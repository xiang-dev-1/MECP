<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>MECP ‚Äî Mesh Emergency Communication Protocol</title>
<meta name="description" content="Encode and decode MECP messages for LoRa mesh emergency communication">
<meta name="theme-color" content="#1e293b">
<link rel="manifest" href="manifest.json">
<style>
/* ============================================================
   MECP Web Tool ‚Äî CSS
   Self-contained. No external dependencies.
   ============================================================ */

/* --- Reset & Base --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #0f172a;
  --bg-card: #1e293b;
  --bg-input: #0f172a;
  --bg-hover: #334155;
  --text: #f1f5f9;
  --text-muted: #94a3b8;
  --text-dim: #64748b;
  --border: #334155;
  --accent: #3b82f6;
  --accent-hover: #2563eb;

  --sev0: #dc2626; --sev0-bg: rgba(220,38,38,.15);
  --sev1: #ea580c; --sev1-bg: rgba(234,88,12,.15);
  --sev2: #b45309; --sev2-bg: rgba(180,83,9,.15);
  --sev3: #2563eb; --sev3-bg: rgba(37,99,235,.15);

  --radius: 8px;
  --radius-lg: 12px;
  --max-w: 640px;
  --nav-h: 56px;
  --bottom-h: 64px;
}

html { font-size: 16px; -webkit-text-size-adjust: 100%; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
  min-height: 100dvh;
  overflow-x: hidden;
}

/* --- Nav --- */
.nav {
  position: sticky; top: 0; z-index: 100;
  display: flex; align-items: center; justify-content: space-between;
  height: var(--nav-h); padding: 0 16px;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border);
}
.nav-title { font-weight: 700; font-size: 1.1rem; letter-spacing: .5px; }
.nav-lang { display: flex; gap: 6px; align-items: center; }
.lang-select {
  background: var(--bg); border: 1px solid var(--border); color: var(--text);
  padding: 6px 10px; border-radius: 20px; font-size: .8rem; cursor: pointer;
  appearance: none; -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 10px center;
  padding-right: 28px; max-width: 220px;
}
.lang-select:focus { border-color: var(--accent); outline: none; }
.lang-select option { background: var(--bg-card); color: var(--text); }

/* --- Bottom Tab Bar --- */
.tabs {
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 100;
  display: flex; height: var(--bottom-h);
  background: var(--bg-card);
  border-top: 1px solid var(--border);
}
.tab-btn {
  flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 2px; background: none; border: none; color: var(--text-dim);
  font-size: .7rem; cursor: pointer; transition: color .15s;
  -webkit-tap-highlight-color: transparent;
}
.tab-btn.active { color: var(--accent); }
.tab-btn svg { width: 22px; height: 22px; }

/* --- Main content area --- */
.main {
  max-width: var(--max-w);
  margin: 0 auto;
  padding: 16px 16px calc(var(--bottom-h) + 16px);
}

/* --- Views (only one visible at a time) --- */
.view { display: none; }
.view.active { display: block; }

/* --- Centered compose layout --- */
.compose-step .step-header,
.compose-step .sev-grid,
.compose-step .cat-grid,
.compose-step .code-list,
.compose-step .btn-row,
.compose-step .auto-tags,
.compose-step .pax-row,
.compose-step .selected-codes-summary {
  max-width: 480px;
  margin-left: auto;
  margin-right: auto;
}

/* --- Cards --- */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 16px;
  margin-bottom: 12px;
}
.card-title { font-weight: 600; font-size: .95rem; margin-bottom: 10px; color: var(--text-muted); }

/* --- Severity selector (Compose) --- */
.sev-grid { display: flex; flex-direction: column; gap: 10px; }
.sev-btn {
  display: flex; align-items: center; gap: 12px;
  width: 100%; padding: 16px;
  border: 2px solid transparent; border-radius: var(--radius);
  background: var(--bg); color: var(--text); cursor: pointer;
  font-size: 1rem; font-weight: 600;
  transition: border-color .15s, background .15s;
  min-height: 64px;
  -webkit-tap-highlight-color: transparent;
}
.sev-btn:hover { background: var(--bg-hover); }
.sev-btn.selected { border-color: currentColor; }
.sev-num {
  display: flex; align-items: center; justify-content: center;
  width: 40px; height: 40px; border-radius: 50%;
  font-weight: 800; font-size: 1.1rem; color: #fff; flex-shrink: 0;
}
.sev-btn[data-sev="0"] { color: var(--sev0); }
.sev-btn[data-sev="0"] .sev-num { background: var(--sev0); }
.sev-btn[data-sev="0"].selected { background: var(--sev0-bg); }
.sev-btn[data-sev="1"] { color: var(--sev1); }
.sev-btn[data-sev="1"] .sev-num { background: var(--sev1); }
.sev-btn[data-sev="1"].selected { background: var(--sev1-bg); }
.sev-btn[data-sev="2"] { color: var(--sev2); }
.sev-btn[data-sev="2"] .sev-num { background: var(--sev2); }
.sev-btn[data-sev="2"].selected { background: var(--sev2-bg); }
.sev-btn[data-sev="3"] { color: var(--sev3); }
.sev-btn[data-sev="3"] .sev-num { background: var(--sev3); }
.sev-btn[data-sev="3"].selected { background: var(--sev3-bg); }

/* --- Category grid (Compose) --- */
.cat-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.cat-btn {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 4px; padding: 14px 6px;
  border: 2px solid var(--border); border-radius: var(--radius);
  background: var(--bg); color: var(--text); cursor: pointer;
  font-size: .75rem; font-weight: 500; text-align: center;
  transition: border-color .15s, background .15s;
  min-height: 72px;
  -webkit-tap-highlight-color: transparent;
}
.cat-btn:hover { background: var(--bg-hover); }
.cat-btn.selected { border-color: var(--accent); background: rgba(59,130,246,.12); }
.cat-icon { font-size: 1.4rem; }

/* --- Code checklist (Compose) --- */
.code-list { display: flex; flex-direction: column; gap: 6px; }
.code-item {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--border); border-radius: var(--radius);
  background: var(--bg); cursor: pointer;
  transition: border-color .15s, background .15s;
  -webkit-tap-highlight-color: transparent;
}
.code-item:hover { background: var(--bg-hover); }
.code-item.selected { border-color: var(--accent); background: rgba(59,130,246,.12); }
.code-check {
  width: 20px; height: 20px; border: 2px solid var(--border);
  border-radius: 4px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  transition: border-color .15s, background .15s;
}
.code-item.selected .code-check { border-color: var(--accent); background: var(--accent); }
.code-check svg { display: none; }
.code-item.selected .code-check svg { display: block; }
.code-id { font-weight: 700; font-size: .85rem; color: var(--accent); min-width: 32px; }
.code-desc { font-size: .85rem; color: var(--text); }

/* --- Selected codes summary --- */
.selected-codes-summary {
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px;
}
.code-chip {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 4px 10px; border-radius: 16px; font-size: .75rem; font-weight: 600;
  background: rgba(59,130,246,.15); color: var(--accent); border: 1px solid rgba(59,130,246,.3);
}
.code-chip .chip-x {
  cursor: pointer; opacity: .6; font-size: .85rem; margin-left: 2px;
}
.code-chip .chip-x:hover { opacity: 1; }

.byte-budget {
  font-size: .75rem; color: var(--text-dim); padding: 6px 0;
  max-width: 480px; margin: 0 auto;
}
.byte-budget.warn { color: var(--sev1); }
.byte-budget.over { color: var(--sev0); font-weight: 600; }

/* --- Pax input --- */
.pax-row {
  display: flex; align-items: center; gap: 10px; margin-bottom: 10px;
}
.pax-label { font-size: .85rem; color: var(--text-muted); white-space: nowrap; }
.pax-input {
  width: 80px; padding: 8px 12px;
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  color: var(--text); font-size: .9rem; text-align: center;
}
.pax-input::placeholder { color: var(--text-dim); }

/* --- Auto-tag buttons --- */
.auto-tags {
  display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap;
}
.tag-btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 14px; border: 1px solid var(--border); border-radius: 20px;
  background: var(--bg); color: var(--text-muted); font-size: .8rem;
  cursor: pointer; transition: all .15s;
  -webkit-tap-highlight-color: transparent;
}
.tag-btn:hover { background: var(--bg-hover); color: var(--text); }
.tag-btn.active { border-color: var(--accent); background: rgba(59,130,246,.12); color: var(--accent); }
.tag-btn.acquiring { border-color: var(--sev2); color: var(--sev2); animation: pulse 1.5s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.5} }

.gps-status {
  font-size: .75rem; color: var(--text-dim); padding: 4px 0 6px;
}

/* --- Freetext input --- */
.freetext-area {
  width: 100%; min-height: 64px; padding: 12px;
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  color: var(--text); font-size: .9rem; font-family: inherit;
  resize: vertical;
}
.freetext-area::placeholder { color: var(--text-dim); }

/* --- Preview block --- */
.preview-box {
  background: var(--bg); border: 1px solid var(--border); border-radius: var(--radius);
  padding: 12px; font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
  font-size: .85rem; word-break: break-all; color: var(--text);
  position: relative;
}
.byte-count {
  font-size: .75rem; color: var(--text-muted); margin-top: 6px;
}
.byte-count.over { color: var(--sev0); font-weight: 600; }

/* --- Buttons --- */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  padding: 12px 20px; border: none; border-radius: var(--radius);
  font-size: .9rem; font-weight: 600; cursor: pointer;
  transition: background .15s, opacity .15s;
  -webkit-tap-highlight-color: transparent;
}
.btn-primary { background: var(--accent); color: #fff; }
.btn-primary:hover { background: var(--accent-hover); }
.btn-secondary { background: var(--bg-hover); color: var(--text); }
.btn-secondary:hover { opacity: .85; }
.btn-sm { padding: 8px 14px; font-size: .8rem; }
.btn-block { width: 100%; }
.btn-row { display: flex; gap: 8px; margin-top: 12px; }

/* --- Compose Steps --- */
.compose-step { display: none; }
.compose-step.active { display: block; }
.step-header {
  display: flex; align-items: center; gap: 10px; margin-bottom: 14px;
}
.step-num {
  width: 28px; height: 28px; border-radius: 50%;
  background: var(--accent); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: .8rem; flex-shrink: 0;
}
.step-label { font-weight: 600; font-size: 1rem; }
.step-back {
  background: none; border: none; color: var(--text-muted);
  cursor: pointer; font-size: .85rem; padding: 4px 8px;
  display: flex; align-items: center; gap: 4px;
}
.step-back:hover { color: var(--text); }

/* --- Decode View --- */
.decode-input {
  width: 100%; padding: 12px;
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  color: var(--text); font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
  font-size: .9rem; resize: vertical; min-height: 64px;
}
.decode-input::placeholder { color: var(--text-dim); font-family: inherit; }

.decoded-msg {
  border-radius: var(--radius-lg);
  overflow: hidden; margin-top: 12px;
}
.decoded-sev {
  padding: 14px 16px;
  display: flex; align-items: center; gap: 12px;
  font-weight: 700; font-size: 1.1rem; color: #fff;
}
.decoded-sev-num {
  width: 36px; height: 36px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-weight: 800; font-size: 1.2rem; background: rgba(255,255,255,.2);
}
.decoded-body { padding: 14px 16px; background: var(--bg-card); border: 1px solid var(--border); border-top: none; }
.decoded-code-row {
  display: flex; align-items: baseline; gap: 8px;
  padding: 6px 0; font-size: .9rem;
}
.decoded-code-id { font-weight: 700; color: var(--accent); min-width: 34px; }
.decoded-code-text { color: var(--text); }
.decoded-divider { border: none; border-top: 1px solid var(--border); margin: 8px 0; }
.decoded-extracted { font-size: .85rem; color: var(--text-muted); padding: 4px 0; }
.decoded-extracted strong { color: var(--text); font-weight: 600; }
.decoded-freetext {
  font-style: italic; color: var(--text-dim);
  padding: 8px 12px; margin: 8px 0;
  border-left: 3px solid var(--border); font-size: .85rem;
}
.decoded-freetext-warn {
  font-size: .75rem; color: var(--sev2); font-style: normal;
  display: flex; align-items: center; gap: 4px; margin-top: 4px;
}
.decoded-raw {
  padding: 10px 12px; margin-top: 8px;
  background: var(--bg); border: 1px solid var(--border); border-radius: var(--radius);
  font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
  font-size: .8rem; word-break: break-all; color: var(--text-muted);
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
}
.decoded-raw code { flex: 1; }
.copy-btn {
  background: none; border: 1px solid var(--border); color: var(--text-muted);
  border-radius: 4px; padding: 4px 8px; cursor: pointer; font-size: .75rem;
  white-space: nowrap; transition: color .15s, border-color .15s;
}
.copy-btn:hover { color: var(--text); border-color: var(--text-dim); }

.drill-banner {
  background: repeating-linear-gradient(45deg, rgba(180,83,9,.15), rgba(180,83,9,.15) 10px, transparent 10px, transparent 20px);
  border: 2px dashed var(--sev2);
  padding: 8px 12px; text-align: center;
  font-weight: 700; color: var(--sev2);
  border-radius: var(--radius); margin-bottom: 10px;
}

.decoded-warn {
  background: rgba(234,88,12,.1);
  border: 1px solid rgba(234,88,12,.3);
  border-radius: var(--radius);
  padding: 8px 12px; margin-top: 8px;
  font-size: .8rem; color: var(--sev1);
}

/* --- Reference Card --- */
.ref-cat-header {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 0 6px;
  font-weight: 700; font-size: .9rem;
  border-bottom: 1px solid var(--border);
  margin-top: 8px;
}
.ref-code-row {
  display: flex; gap: 8px; padding: 5px 0;
  font-size: .8rem; border-bottom: 1px solid rgba(51,65,85,.4);
}
.ref-code-id { font-weight: 700; color: var(--accent); min-width: 34px; }
.ref-code-en { flex: 1; color: var(--text); }
.ref-code-local { flex: 1; color: var(--text-muted); }

/* --- History --- */
.history-item {
  padding: 12px; margin-bottom: 8px;
  background: var(--bg); border: 1px solid var(--border);
  border-radius: var(--radius); cursor: pointer;
  transition: background .15s;
}
.history-item:hover { background: var(--bg-hover); }
.history-time { font-size: .7rem; color: var(--text-dim); margin-bottom: 4px; }
.history-raw {
  font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
  font-size: .8rem; color: var(--text-muted); word-break: break-all;
}
.history-empty { text-align: center; color: var(--text-dim); padding: 40px 0; font-size: .9rem; }

/* --- Toast --- */
.toast {
  position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
  background: var(--bg-card); border: 1px solid var(--border);
  padding: 10px 20px; border-radius: 20px;
  font-size: .85rem; color: var(--text);
  opacity: 0; transition: opacity .3s;
  z-index: 200; pointer-events: none;
}
.toast.show { opacity: 1; }

/* --- Utility --- */
.mt-8 { margin-top: 8px; }
.mt-12 { margin-top: 12px; }
.mt-16 { margin-top: 16px; }
.mb-8 { margin-bottom: 8px; }
.hidden { display: none !important; }
.flex-between { display: flex; justify-content: space-between; align-items: center; }

/* --- Focus --- */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* --- Responsive --- */
@media (min-width: 600px) {
  .cat-grid { grid-template-columns: repeat(4, 1fr); }
}
@media (min-width: 900px) {
  :root { --max-w: 720px; }
}

/* --- Print styles for Reference Card --- */
@media print {
  body { background: #fff; color: #000; }
  .nav, .tabs, .toast { display: none !important; }
  .main { max-width: 100%; padding: 0; }
  .view { display: none !important; }
  .view.view-ref { display: block !important; }
  .card { border-color: #ccc; background: #fff; }
  .ref-code-id { color: #2563eb; }
  .ref-code-en, .ref-code-local { color: #000; }
}
</style>
</head>
<body>

<!-- ===== Nav ===== -->
<header class="nav">
  <span class="nav-title">MECP</span>
  <div class="nav-lang" id="langBar"></div>
</header>

<!-- ===== Main ===== -->
<div class="main">

  <!-- ===== Compose View ===== -->
  <section class="view view-compose active" id="viewCompose">

    <!-- Step 1: Severity -->
    <div class="compose-step active" id="stepSev">
      <div class="step-header">
        <span class="step-num">1</span>
        <span class="step-label" data-ui="severity_select">Select severity</span>
      </div>
      <div class="sev-grid" id="sevGrid"></div>
    </div>

    <!-- Step 2: Category -->
    <div class="compose-step" id="stepCat">
      <div class="step-header">
        <button class="step-back" onclick="composeBack(1)">&larr; Back</button>
        <span class="step-num">2</span>
        <span class="step-label" data-ui="category_select">Select category</span>
      </div>
      <div class="selected-codes-summary" id="selectedChips"></div>
      <div class="byte-budget" id="byteBudget"></div>
      <div class="cat-grid" id="catGrid"></div>
    </div>

    <!-- Step 3: Codes -->
    <div class="compose-step" id="stepCodes">
      <div class="step-header">
        <button class="step-back" onclick="composeBack(2)">&larr; Back</button>
        <span class="step-num">3</span>
        <span class="step-label" data-ui="code_select">Select codes</span>
      </div>
      <div class="selected-codes-summary" id="selectedChipsCodes"></div>
      <div class="code-list" id="codeList"></div>
      <div class="btn-row" style="flex-direction:column;gap:8px;">
        <button class="btn btn-secondary btn-block" onclick="addMoreCategories()">+ Add more codes</button>
        <button class="btn btn-primary btn-block" onclick="composeGoStep(4)">Next &rarr;</button>
      </div>
    </div>

    <!-- Step 4: Freetext + Preview -->
    <div class="compose-step" id="stepFree">
      <div class="step-header">
        <button class="step-back" onclick="composeBack(3)">&larr; Back</button>
        <span class="step-num">4</span>
        <span class="step-label">Freetext &amp; Preview</span>
      </div>
      <div class="auto-tags" id="autoTags">
        <button class="tag-btn" id="tagGps" onclick="toggleGps()" aria-label="Attach GPS coordinates">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
          <span data-ui="attach_gps">GPS</span>
        </button>
        <button class="tag-btn" id="tagTime" onclick="toggleTimestamp()" aria-label="Add UTC timestamp">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          <span>Time</span>
        </button>
        <button class="tag-btn active" id="tagLang" onclick="toggleLang()" aria-label="Add language hint">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 8l6 6"/><path d="M4 14l6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="M22 22l-5-10-5 10"/><path d="M14 18h6"/></svg>
          <span id="tagLangLabel">@en</span>
        </button>
      </div>
      <div class="pax-row">
        <span class="pax-label" data-ui="add_count">Person count</span>
        <input type="number" class="pax-input" id="paxInput" min="0" max="9999"
          placeholder="0" aria-label="Number of people" oninput="updatePreview()">
        <span class="pax-label">pax</span>
      </div>
      <div class="gps-status hidden" id="gpsStatus"></div>
      <textarea class="freetext-area" id="freetextInput" aria-label="Freetext input"
        data-ui-placeholder="freetext_placeholder" placeholder="Optional text..."></textarea>
      <div class="mt-12">
        <div class="card-title" data-ui="preview">Preview</div>
        <div class="preview-box" id="previewBox">MECP/0/M01</div>
        <div class="byte-count" id="byteCount">10 / 200 bytes</div>
      </div>
      <div class="btn-row">
        <button class="btn btn-primary btn-block" id="btnCopy" onclick="copyMessage()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
          <span data-ui="copy">Copy</span>
        </button>
      </div>
    </div>
  </section>

  <!-- ===== Decode View ===== -->
  <section class="view view-decode" id="viewDecode">
    <div class="card">
      <div class="card-title" data-ui="paste_decode">Paste &amp; decode</div>
      <textarea class="decode-input" id="decodeInput" aria-label="MECP message to decode"
        placeholder="MECP/0/M01 M07 2pax P05 48.6520,20.1305"></textarea>
      <div class="btn-row">
        <button class="btn btn-primary btn-block" onclick="runDecode()">
          <span data-ui="decode">Decode</span>
        </button>
      </div>
    </div>
    <div id="decodeResult"></div>
  </section>

  <!-- ===== Reference Card View ===== -->
  <section class="view view-ref" id="viewRef">
    <div class="card">
      <div class="card-title" data-ui="reference_card">Reference Card</div>
      <div class="flex-between mb-8">
        <span style="font-size:.8rem;color:var(--text-dim)">Bilingual: <span id="refLangLabel">English + Slovak</span></span>
      </div>
      <div id="refCardBody"></div>
    </div>
  </section>

  <!-- ===== History View ===== -->
  <section class="view view-history" id="viewHistory">
    <div class="card">
      <div class="flex-between mb-8">
        <div class="card-title" data-ui="history" style="margin-bottom:0">History</div>
        <div style="display:flex;gap:6px;">
          <button class="btn btn-sm btn-secondary" onclick="exportHistory()" data-ui="export_history">Export</button>
          <button class="btn btn-sm btn-secondary" onclick="clearHistory()" data-ui="clear_history">Clear</button>
        </div>
      </div>
      <div id="historyList"></div>
    </div>
  </section>

</div>

<!-- ===== Bottom Tab Bar ===== -->
<nav class="tabs">
  <button class="tab-btn active" data-view="viewCompose" onclick="switchView('viewCompose', this)">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
    <span data-ui="compose">Compose</span>
  </button>
  <button class="tab-btn" data-view="viewDecode" onclick="switchView('viewDecode', this)">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4a2 2 0 012-2h8.5L20 7.5V20a2 2 0 01-2 2H6a2 2 0 01-2-2v-3"/><polyline points="14 2 14 8 20 8"/><line x1="2" y1="15" x2="12" y2="15"/><polyline points="9 12 12 15 9 18"/></svg>
    <span data-ui="decode">Decode</span>
  </button>
  <button class="tab-btn" data-view="viewRef" onclick="switchView('viewRef', this)">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
    <span data-ui="reference_card">Reference</span>
  </button>
  <button class="tab-btn" data-view="viewHistory" onclick="switchView('viewHistory', this)">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
    <span data-ui="history">History</span>
  </button>
</nav>

<!-- ===== Toast ===== -->
<div class="toast" id="toast"></div>

<script>
/* ============================================================
   MECP Web Tool ‚Äî JavaScript
   Self-contained encoder, decoder, UI logic.
   ============================================================ */

// ====== Language Data (embedded) ======
const LANGUAGES = {
"cs": {"language":"cs","language_name":"ƒåe≈°tina","language_name_en":"Czech","language_name_latin":"ƒåe≈°tina","flag_emoji":"üá®üáø","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Ohro≈æen√≠ ≈æivota"},"1":{"local":"NAL√âHAV√â","label":"NAL√âHAV√â / ƒåasovƒõ kritick√©"},"2":{"local":"BEZPEƒåNOST","label":"BEZPEƒåNOST / D≈Øle≈æit√©"},"3":{"local":"Bƒö≈ΩN√â","label":"Bƒö≈ΩN√â / Norm√°ln√≠"}},"categories":{"M":{"name":"Zdravotn√≠","icon":"medical"},"T":{"name":"Ter√©n / Infrastruktura","icon":"terrain"},"W":{"name":"Poƒças√≠ / Prost≈ôed√≠","icon":"weather"},"S":{"name":"Z√°soby","icon":"supplies"},"P":{"name":"Poloha / Pohyb","icon":"position"},"C":{"name":"Koordinace","icon":"coordination"},"R":{"name":"Odezva","icon":"response"},"D":{"name":"Cviƒçen√≠ / Test","icon":"drill"},"L":{"name":"≈Ωivot / Voln√Ω ƒças","icon":"leisure"},"X":{"name":"Hrozba / Bezpeƒçnost","icon":"threat"},"H":{"name":"Nab√≠dka zdroj≈Ø","icon":"resources"}},"codes":{"M01":"Zranƒõn√≠","M02":"Osoba v bezvƒõdom√≠","M03":"Pot√≠≈æe s d√Ωch√°n√≠m","M04":"Srdeƒçn√≠ p≈ô√≠hoda","M05":"Podchlazen√≠","M06":"Siln√© krv√°cen√≠","M07":"Zlomenina / imobiln√≠","M08":"Pop√°leniny","M09":"V√≠ce zranƒõn√Ωch","M10":"√ömrt√≠","M11":"Kousnut√≠ / bodnut√≠ zv√≠≈ôetem","M12":"Alergick√° reakce / anafylaxe","M13":"Otrava / toxick√° expozice","M14":"Osoby nalezeny na≈æivu","M15":"Oblast prohled√°na, bez obƒõt√≠","T01":"Silnice zablokov√°na","T02":"Most zniƒçen","T03":"Budova z≈ô√≠cena","T04":"Z√°plavy","T05":"Sesuv p≈Ødy","T06":"V√Ωpadek proudu","T07":"Po≈æ√°r","T08":"Lavina","T09":"Cesta nepr≈Øchodn√°","T10":"√ökryt k dispozici","T11":"Topen√≠ / pot≈ôeba vodn√≠ z√°chrany","T12":"Kontaminace vody","T13":"Zemƒõt≈ôesen√≠","T14":"√önik plynu","T15":"Chemick√Ω √∫nik / HAZMAT","T16":"Dopravn√≠ nehoda","T17":"Po≈æ√°r vozidla","W01":"Bl√≠≈æ√≠ se bou≈ôe","W02":"Nulov√° viditelnost","W03":"Extr√©mn√≠ mr√°z","W04":"Extr√©mn√≠ horko","W05":"Nebezpeƒçn√° kvalita vzduchu","W06":"Varov√°n√≠ p≈ôed tsunami / p≈ô√≠livovou vlnou","S01":"Pot≈ôeba vody","S02":"Pot≈ôeba j√≠dla","S03":"Pot≈ôeba l√©k≈Ø","S04":"Pot≈ôeba baterie / energie","S05":"Pot≈ôeba paliva","S06":"Pot≈ôeba n√°stroj≈Ø / vybaven√≠","P01":"Uv√≠zl√Ω / zaseknut√Ω","P02":"Evakuace smƒõrem k","P03":"Ukryt√≠ na m√≠stƒõ","P04":"Na cestƒõ do","P05":"Na GPS sou≈ôadnic√≠ch","P06":"Ztracen","P07":"Skupina rozdƒõlena","C01":"Vyslat z√°chran√°≈ôe","C02":"Pot≈ôeba p≈ôepravy","C03":"P≈ôeposlat tuto zpr√°vu","C04":"Potvrƒète p≈ô√≠jem","C05":"Kolik osob","C06":"Jak√Ω je stav","C07":"M≈Ø≈æete se spojit s","C08":"Sraz v","R01":"Potvrzeno","R02":"Pomoc je na cestƒõ","R03":"P≈ô√≠jezd za [minut]","R04":"Nelze pomoci","R05":"P≈ôesmƒõrov√°n√≠ na","R06":"ƒåekejte","R07":"Situace vy≈ôe≈°ena / v≈°e v po≈ô√°dku","D01":"Toto je cviƒçen√≠","D02":"Toto je test","D03":"Konec cviƒçen√≠","D04":"Ignorujte p≈ôedchoz√≠ ‚Äî odesl√°no omylem","L01":"Pivo / n√°poje","L02":"K√°va","L03":"J√≠dlo hotovo","L04":"Vrchol dosa≈æen","L05":"V t√°bo≈ôe","L06":"M√°m zpo≈ædƒõn√≠","L07":"Dobr√Ω sign√°l zde","L08":"P≈ô√≠le≈æitost k fotografii","L09":"Spat≈ôena zvƒõ≈ô","L10":"Kr√°sn√Ω v√Ωhled","L11":"Stav stezky dobr√Ω","L12":"Stav stezky ≈°patn√Ω","L13":"Pot≈ôebuji pauzu","L14":"Smƒõ≈ôuji dom≈Ø","L15":"Dobr√© r√°no / hl√°≈°en√≠","L16":"Dobrou noc","L17":"Dƒõkuji","L18":"U≈æ√≠v√°m si to","L19":"Festival / akce zde","L20":"Test uzlu / ping","X01":"Nebezpeƒçn√° osoba / hrozba pobl√≠≈æ","X02":"Nebezpeƒçn√° oblast ‚Äî vyhnout se","X03":"St≈ôelba / v√Ωbuchy sly≈°eny","X04":"Obƒçansk√© nepokoje / nebezpeƒç√≠ davu","X05":"Hl√°≈°ena kr√°de≈æ / rabov√°n√≠","X06":"√ö≈ôady / z√°chrann√© slo≈æky na m√≠stƒõ","X07":"Kontroln√≠ stanovi≈°tƒõ / uzav√≠rka (√∫≈ôady)","H01":"Voda k dispozici","H02":"J√≠dlo k dispozici","H03":"Zdravotnick√Ω materi√°l k dispozici","H04":"Energie / nab√≠jen√≠ k dispozici","H05":"Palivo k dispozici","H06":"N√°stroje / vybaven√≠ k dispozici","H07":"√ökryt / m√≠sto pro [N]os.","H08":"P≈ôeprava / vozidlo k dispozici"},"ui":{"send":"Odeslat","cancel":"Zru≈°it","attach_gps":"P≈ôipojit GPS","add_count":"P≈ôidat poƒçet","preview":"N√°hled","copy":"Kop√≠rovat","paste_decode":"Vlo≈æit a dek√≥dovat","severity_select":"Vybrat z√°va≈ænost","category_select":"Vybrat kategorii","code_select":"Vybrat k√≥dy","freetext_placeholder":"Voliteln√Ω text...","parse_failed":"MECP zpr√°va ‚Äî nepoda≈ôilo se plnƒõ analyzovat","unknown_code":"Nezn√°m√Ω k√≥d","message_too_long":"Zpr√°va p≈ôesahuje 200 bajt≈Ø","not_connected":"≈Ω√°dn√© p≈ôipojen√© za≈ô√≠zen√≠","connecting":"P≈ôipojov√°n√≠...","connected_to":"P≈ôipojeno k","scan_devices":"Hledat za≈ô√≠zen√≠","compose":"Ps√°t","decode":"Dek√≥dovat","reference_card":"Referenƒçn√≠ karta","history":"Historie","clear_history":"Vymazat historii","export_history":"Exportovat historii","drill_banner":"CVIƒåEN√ç","untranslated_warning":"Tento text nen√≠ p≈ôelo≈æen","bytes_remaining":"zb√Ωv√° bajt≈Ø","confirm_mayday":"Potvrdit MAYDAY ‚Äî podr≈æte pro odesl√°n√≠","message_copied":"Zpr√°va zkop√≠rov√°na","gps_acquiring":"Z√≠sk√°v√°n√≠ GPS...","add_reference_tag":"P≈ôidat znaƒçku incidentu"},"deprecations":{}},
"de": {"language":"de","language_name":"Deutsch","language_name_en":"German","language_name_latin":"Deutsch","flag_emoji":"üá©üá™","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Lebensbedrohlich"},"1":{"local":"DRINGEND","label":"DRINGEND / Zeitkritisch"},"2":{"local":"SICHERHEIT","label":"SICHERHEIT / Wichtig"},"3":{"local":"ROUTINE","label":"ROUTINE / Normal"}},"categories":{"M":{"name":"Medizin","icon":"medical"},"T":{"name":"Gel√§nde / Infrastruktur","icon":"terrain"},"W":{"name":"Wetter / Umwelt","icon":"weather"},"S":{"name":"Versorgung","icon":"supplies"},"P":{"name":"Position / Bewegung","icon":"position"},"C":{"name":"Koordination","icon":"coordination"},"R":{"name":"Antwort","icon":"response"},"D":{"name":"√úbung / Test","icon":"drill"},"L":{"name":"Alltag / Freizeit","icon":"leisure"},"X":{"name":"Bedrohung / Sicherheit","icon":"threat"},"H":{"name":"Vorhanden / Ressourcen anbieten","icon":"resources"}},"codes":{"M01":"Verletzung","M02":"Bewusstlose Person","M03":"Atemnot","M04":"Herznotfall","M05":"Unterk√ºhlung","M06":"Starke Blutung","M07":"Fraktur / nicht gehf√§hig","M08":"Verbrennungen","M09":"Mehrere Verletzte","M10":"Verstorben","M11":"Tierbiss / -stich","M12":"Allergische Reaktion / Anaphylaxie","M13":"Vergiftung / Schadstoffkontakt","M14":"Personen lebend gefunden","M15":"Gebiet durchsucht, keine Opfer","T01":"Stra√üe blockiert","T02":"Br√ºcke zerst√∂rt","T03":"Geb√§ude eingest√ºrzt","T04":"√úberschwemmung","T05":"Erdrutsch","T06":"Stromausfall","T07":"Feuer","T08":"Lawine","T09":"Weg unpassierbar","T10":"Unterkunft verf√ºgbar","T11":"Ertrinken / Wasserrettung n√∂tig","T12":"Wasserverunreinigung","T13":"Erdbeben","T14":"Gasleck","T15":"Chemieunfall / Gefahrgut","T16":"Verkehrsunfall","T17":"Fahrzeugbrand","W01":"Sturm im Anmarsch","W02":"Sicht null","W03":"Extreme K√§lte","W04":"Extreme Hitze","W05":"Luftqualit√§t gef√§hrlich","W06":"Tsunami- / Sturmflutwarnung","S01":"Brauche Wasser","S02":"Brauche Nahrung","S03":"Brauche Medikamente","S04":"Brauche Batterie / Strom","S05":"Brauche Treibstoff","S06":"Brauche Werkzeug / Ausr√ºstung","P01":"Gestrandet / festsitzend","P02":"Evakuierung Richtung","P03":"Vor Ort verschanzt","P04":"Unterwegs nach","P05":"An GPS-Koordinaten","P06":"Verirrt","P07":"Gruppe getrennt","C01":"Rettung schicken","C02":"Brauche Transport","C03":"Nachricht weiterleiten","C04":"Empfang best√§tigen","C05":"Wie viele Personen","C06":"Was ist der Status","C07":"K√∂nnt ihr erreichen","C08":"Treffpunkt bei","R01":"Best√§tigt","R02":"Hilfe kommt","R03":"Ankunft in [Minuten]","R04":"Kann nicht helfen","R05":"Umleitung nach","R06":"Bitte warten","R07":"Lage gel√∂st / Entwarnung","D01":"Dies ist eine √úbung","D02":"Dies ist ein Test","D03":"Ende der √úbung","D04":"Vorherige ignorieren ‚Äî irrt√ºmlich gesendet","L01":"Bier / Getr√§nke","L02":"Kaffee","L03":"Essen fertig","L04":"Gipfel erreicht","L05":"Im Lager","L06":"Versp√§tet","L07":"Gutes Signal hier","L08":"Fotogelegenheit","L09":"Wildtier gesichtet","L10":"Sch√∂ne Aussicht","L11":"Wegverh√§ltnisse gut","L12":"Wegverh√§ltnisse schlecht","L13":"Brauche Pause","L14":"Auf dem Heimweg","L15":"Guten Morgen / Meldung","L16":"Gute Nacht","L17":"Danke","L18":"Macht Spa√ü","L19":"Fest / Veranstaltung hier","L20":"Knotentest / Ping","X01":"Gef√§hrliche Person / Bedrohung in N√§he","X02":"Gebiet unsicher ‚Äî meiden","X03":"Sch√ºsse / Explosionen geh√∂rt","X04":"Unruhen / Menschenmenge gef√§hrlich","X05":"Diebstahl / Pl√ºnderung gemeldet","X06":"Beh√∂rden / Rettungsdienste vor Ort","X07":"Kontrollpunkt / Stra√üensperre (Beh√∂rde)","H01":"Wasser verf√ºgbar","H02":"Nahrung verf√ºgbar","H03":"Medizinisches Material vorhanden","H04":"Strom / Ladestation vorhanden","H05":"Treibstoff vorhanden","H06":"Werkzeug / Ausr√ºstung vorhanden","H07":"Unterkunft / Platz f√ºr [N] Pers.","H08":"Transport / Fahrzeug vorhanden"},"ui":{"send":"Senden","cancel":"Abbrechen","attach_gps":"GPS anh√§ngen","add_count":"Anzahl hinzuf√ºgen","preview":"Vorschau","copy":"Kopieren","paste_decode":"Einf√ºgen & dekodieren","severity_select":"Schweregrad w√§hlen","category_select":"Kategorie w√§hlen","code_select":"Codes w√§hlen","freetext_placeholder":"Optionaler Text...","parse_failed":"MECP-Nachricht ‚Äî konnte nicht vollst√§ndig geparst werden","unknown_code":"Unbekannter Code","message_too_long":"Nachricht √ºberschreitet 200 Bytes","not_connected":"Kein Ger√§t verbunden","connecting":"Verbinde...","connected_to":"Verbunden mit","scan_devices":"Ger√§te suchen","compose":"Verfassen","decode":"Dekodieren","reference_card":"Referenzkarte","history":"Verlauf","clear_history":"Verlauf l√∂schen","export_history":"Verlauf exportieren","drill_banner":"√úBUNG","untranslated_warning":"Dieser Text ist nicht √ºbersetzt","bytes_remaining":"Bytes verbleibend","confirm_mayday":"MAYDAY best√§tigen ‚Äî halten zum Senden","message_copied":"Nachricht kopiert","gps_acquiring":"GPS wird ermittelt...","add_reference_tag":"Vorfallkennung hinzuf√ºgen"},"deprecations":{}},
"en": {"language":"en","language_name":"English","language_name_en":"English","language_name_latin":"English","flag_emoji":"üá¨üáß","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Life-threatening"},"1":{"local":"URGENT","label":"URGENT / Time-critical"},"2":{"local":"SAFETY","label":"SAFETY / Important"},"3":{"local":"ROUTINE","label":"ROUTINE / Normal"}},"categories":{"M":{"name":"Medical","icon":"medical"},"T":{"name":"Terrain / Infrastructure","icon":"terrain"},"W":{"name":"Weather / Environment","icon":"weather"},"S":{"name":"Supplies","icon":"supplies"},"P":{"name":"Position / Movement","icon":"position"},"C":{"name":"Coordination","icon":"coordination"},"R":{"name":"Response","icon":"response"},"D":{"name":"Drill / Test","icon":"drill"},"L":{"name":"Life / Leisure","icon":"leisure"},"X":{"name":"Threat / Security","icon":"threat"},"H":{"name":"Have / Offer Resources","icon":"resources"}},"codes":{"M01":"Injury","M02":"Unconscious person","M03":"Breathing difficulty","M04":"Cardiac event","M05":"Hypothermia","M06":"Severe bleeding","M07":"Fracture / immobile","M08":"Burns","M09":"Multiple casualties","M10":"Deceased","M11":"Animal bite / sting","M12":"Allergic reaction / anaphylaxis","M13":"Poisoning / toxic exposure","M14":"Persons located alive","M15":"Area searched, no victims found","T01":"Road blocked","T02":"Bridge out","T03":"Building collapsed","T04":"Flooding","T05":"Landslide","T06":"Power out","T07":"Fire","T08":"Avalanche","T09":"Path impassable","T10":"Shelter available","T11":"Drowning / water rescue needed","T12":"Water contamination","T13":"Earthquake","T14":"Gas leak","T15":"Chemical spill / HAZMAT","T16":"Vehicle accident","T17":"Vehicle fire","W01":"Storm approaching","W02":"Visibility zero","W03":"Extreme cold","W04":"Extreme heat","W05":"Air quality danger","W06":"Tsunami / tidal surge warning","S01":"Need water","S02":"Need food","S03":"Need medication","S04":"Need battery / power","S05":"Need fuel","S06":"Need tools / equipment","P01":"Stranded / stuck","P02":"Evacuating toward","P03":"Sheltering in place","P04":"En route to","P05":"At GPS coordinates","P06":"Lost","P07":"Group separated","C01":"Send rescue","C02":"Need transport","C03":"Relay this message","C04":"Confirm received","C05":"How many people","C06":"What is status","C07":"Can you reach","C08":"Rendezvous at","R01":"Acknowledged","R02":"Help coming","R03":"ETA [minutes]","R04":"Cannot assist","R05":"Redirecting to","R06":"Stand by","R07":"Situation resolved / all clear","D01":"This is a drill","D02":"This is a test","D03":"End of drill","D04":"Ignore previous ‚Äî sent in error","L01":"Beer / drinks","L02":"Coffee","L03":"Food ready","L04":"Summit reached","L05":"At camp","L06":"Running late","L07":"Good signal here","L08":"Photo opportunity","L09":"Wildlife spotted","L10":"Beautiful view","L11":"Trail conditions good","L12":"Trail conditions bad","L13":"Need a break","L14":"Heading home","L15":"Good morning / check-in","L16":"Good night","L17":"Thank you","L18":"Having fun","L19":"Festival / event here","L20":"Node test / ping","X01":"Dangerous person / threat nearby","X02":"Area unsafe ‚Äî avoid","X03":"Gunfire / explosions heard","X04":"Civil unrest / crowd danger","X05":"Theft / looting reported","X06":"Authorities / emergency services present","X07":"Checkpoint / road closure (authority)","H01":"Have water available","H02":"Have food available","H03":"Have medical supplies","H04":"Have power / charging","H05":"Have fuel","H06":"Have tools / equipment","H07":"Have shelter / space for [N]pax","H08":"Have transport / vehicle"},"ui":{"send":"Send","cancel":"Cancel","attach_gps":"Attach GPS","add_count":"Add count","preview":"Preview","copy":"Copy","paste_decode":"Paste & decode","severity_select":"Select severity","category_select":"Select category","code_select":"Select codes","freetext_placeholder":"Optional text...","parse_failed":"MECP message ‚Äî could not fully parse","unknown_code":"Unknown code","message_too_long":"Message exceeds 200 bytes","not_connected":"No device connected","connecting":"Connecting...","connected_to":"Connected to","scan_devices":"Scan for devices","compose":"Compose","decode":"Decode","reference_card":"Reference Card","history":"History","clear_history":"Clear history","export_history":"Export history","drill_banner":"DRILL","untranslated_warning":"This text is not translated","bytes_remaining":"bytes remaining","confirm_mayday":"Confirm MAYDAY ‚Äî hold to send","message_copied":"Message copied","gps_acquiring":"Acquiring GPS...","add_reference_tag":"Add incident tag"},"deprecations":{}},
"es": {"language":"es","language_name":"Espa√±ol","language_name_en":"Spanish","language_name_latin":"Espa√±ol","flag_emoji":"üá™üá∏","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Peligro de muerte"},"1":{"local":"URGENTE","label":"URGENTE / Tiempo cr√≠tico"},"2":{"local":"SEGURIDAD","label":"SEGURIDAD / Importante"},"3":{"local":"RUTINA","label":"RUTINA / Normal"}},"categories":{"M":{"name":"M√©dico","icon":"medical"},"T":{"name":"Terreno / Infraestructura","icon":"terrain"},"W":{"name":"Clima / Medio ambiente","icon":"weather"},"S":{"name":"Suministros","icon":"supplies"},"P":{"name":"Posici√≥n / Movimiento","icon":"position"},"C":{"name":"Coordinaci√≥n","icon":"coordination"},"R":{"name":"Respuesta","icon":"response"},"D":{"name":"Simulacro / Prueba","icon":"drill"},"L":{"name":"Vida / Ocio","icon":"leisure"},"X":{"name":"Amenaza / Seguridad","icon":"threat"},"H":{"name":"Disponible / Oferta de recursos","icon":"resources"}},"codes":{"M01":"Lesi√≥n","M02":"Persona inconsciente","M03":"Dificultad respiratoria","M04":"Evento card√≠aco","M05":"Hipotermia","M06":"Hemorragia grave","M07":"Fractura / inmovilizado","M08":"Quemaduras","M09":"M√∫ltiples v√≠ctimas","M10":"Fallecido","M11":"Mordedura / picadura de animal","M12":"Reacci√≥n al√©rgica / anafilaxia","M13":"Envenenamiento / exposici√≥n t√≥xica","M14":"Personas localizadas con vida","M15":"Zona rastreada, sin v√≠ctimas","T01":"Carretera bloqueada","T02":"Puente ca√≠do","T03":"Edificio derrumbado","T04":"Inundaci√≥n","T05":"Deslizamiento de tierra","T06":"Sin electricidad","T07":"Incendio","T08":"Avalancha","T09":"Camino intransitable","T10":"Refugio disponible","T11":"Ahogamiento / rescate acu√°tico necesario","T12":"Agua contaminada","T13":"Terremoto","T14":"Fuga de gas","T15":"Derrame qu√≠mico / HAZMAT","T16":"Accidente de veh√≠culo","T17":"Veh√≠culo en llamas","W01":"Tormenta acerc√°ndose","W02":"Visibilidad nula","W03":"Fr√≠o extremo","W04":"Calor extremo","W05":"Calidad del aire peligrosa","W06":"Alerta de tsunami / marejada","S01":"Necesitan agua","S02":"Necesitan comida","S03":"Necesitan medicamentos","S04":"Necesitan bater√≠a / energ√≠a","S05":"Necesitan combustible","S06":"Necesitan herramientas / equipo","P01":"Varados / atrapados","P02":"Evacuando hacia","P03":"Refugiados en el lugar","P04":"En camino a","P05":"En coordenadas GPS","P06":"Perdidos","P07":"Grupo separado","C01":"Env√≠en rescate","C02":"Necesitan transporte","C03":"Retransmitan este mensaje","C04":"Confirmen recepci√≥n","C05":"¬øCu√°ntas personas?","C06":"¬øCu√°l es el estado?","C07":"¬øPueden contactar?","C08":"Punto de encuentro en","R01":"Recibido","R02":"Ayuda en camino","R03":"Llegada est. [minutos]","R04":"No podemos asistir","R05":"Redirigiendo a","R06":"Esperen","R07":"Situaci√≥n resuelta / todo despejado","D01":"Esto es un simulacro","D02":"Esto es una prueba","D03":"Fin del simulacro","D04":"Ignoren lo anterior ‚Äî enviado por error","L01":"Cerveza / bebidas","L02":"Caf√©","L03":"Comida lista","L04":"Cumbre alcanzada","L05":"En el campamento","L06":"Llegando tarde","L07":"Buena se√±al aqu√≠","L08":"Oportunidad de foto","L09":"Fauna avistada","L10":"Vista hermosa","L11":"Sendero en buen estado","L12":"Sendero en mal estado","L13":"Necesito un descanso","L14":"Rumbo a casa","L15":"Buenos d√≠as / registro","L16":"Buenas noches","L17":"Gracias","L18":"Divirti√©ndose","L19":"Festival / evento aqu√≠","L20":"Prueba de nodo / ping","X01":"Persona peligrosa / amenaza cercana","X02":"Zona insegura ‚Äî evitar","X03":"Disparos / explosiones escuchados","X04":"Disturbios civiles / peligro de multitud","X05":"Robo / saqueo reportado","X06":"Autoridades / servicios de emergencia presentes","X07":"Puesto de control / corte de carretera (autoridad)","H01":"Agua disponible","H02":"Comida disponible","H03":"Suministros m√©dicos disponibles","H04":"Energ√≠a / carga disponible","H05":"Combustible disponible","H06":"Herramientas / equipo disponible","H07":"Refugio / espacio para [N]pax","H08":"Transporte / veh√≠culo disponible"},"ui":{"send":"Enviar","cancel":"Cancelar","attach_gps":"Adjuntar GPS","add_count":"A√±adir cantidad","preview":"Vista previa","copy":"Copiar","paste_decode":"Pegar y decodificar","severity_select":"Seleccionar gravedad","category_select":"Seleccionar categor√≠a","code_select":"Seleccionar c√≥digos","freetext_placeholder":"Texto opcional...","parse_failed":"Mensaje MECP ‚Äî no se pudo analizar completamente","unknown_code":"C√≥digo desconocido","message_too_long":"El mensaje supera los 200 bytes","not_connected":"Sin dispositivo conectado","connecting":"Conectando...","connected_to":"Conectado a","scan_devices":"Buscar dispositivos","compose":"Redactar","decode":"Decodificar","reference_card":"Tarjeta de referencia","history":"Historial","clear_history":"Borrar historial","export_history":"Exportar historial","drill_banner":"SIMULACRO","untranslated_warning":"Este texto no est√° traducido","bytes_remaining":"bytes restantes","confirm_mayday":"Confirmar MAYDAY ‚Äî mantenga para enviar","message_copied":"Mensaje copiado","gps_acquiring":"Obteniendo GPS...","add_reference_tag":"A√±adir etiqueta de incidente"},"deprecations":{}},
"fr": {"language":"fr","language_name":"Fran√ßais","language_name_en":"French","language_name_latin":"Fran√ßais","flag_emoji":"üá´üá∑","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Danger de mort"},"1":{"local":"URGENT","label":"URGENT / Critique"},"2":{"local":"S√âCURIT√â","label":"S√âCURIT√â / Important"},"3":{"local":"ROUTINE","label":"ROUTINE / Normal"}},"categories":{"M":{"name":"M√©dical","icon":"medical"},"T":{"name":"Terrain / Infrastructure","icon":"terrain"},"W":{"name":"M√©t√©o / Environnement","icon":"weather"},"S":{"name":"Approvisionnement","icon":"supplies"},"P":{"name":"Position / D√©placement","icon":"position"},"C":{"name":"Coordination","icon":"coordination"},"R":{"name":"R√©ponse","icon":"response"},"D":{"name":"Exercice / Test","icon":"drill"},"L":{"name":"Quotidien / Loisirs","icon":"leisure"},"X":{"name":"Menace / S√©curit√©","icon":"threat"},"H":{"name":"Disponible / Offrir des ressources","icon":"resources"}},"codes":{"M01":"Blessure","M02":"Personne inconsciente","M03":"Difficult√© respiratoire","M04":"Urgence cardiaque","M05":"Hypothermie","M06":"H√©morragie grave","M07":"Fracture / immobilis√©","M08":"Br√ªlures","M09":"Victimes multiples","M10":"D√©c√©d√©","M11":"Morsure / piq√ªre d‚Äôanimal","M12":"R√©action allergique / anaphylaxie","M13":"Empoisonnement / exposition toxique","M14":"Personnes trouv√©es vivantes","M15":"Zone fouill√©e, aucune victime","T01":"Route bloqu√©e","T02":"Pont d√©truit","T03":"B√¢timent effondr√©","T04":"Inondation","T05":"Glissement de terrain","T06":"Coupure de courant","T07":"Incendie","T08":"Avalanche","T09":"Chemin impraticable","T10":"Abri disponible","T11":"Noyade / sauvetage aquatique n√©cessaire","T12":"Contamination de l‚Äôeau","T13":"S√©isme","T14":"Fuite de gaz","T15":"D√©versement chimique / mati√®res dangereuses","T16":"Accident de v√©hicule","T17":"V√©hicule en feu","W01":"Temp√™te en approche","W02":"Visibilit√© nulle","W03":"Froid extr√™me","W04":"Chaleur extr√™me","W05":"Qualit√© de l‚Äôair dangereuse","W06":"Alerte tsunami / raz-de-mar√©e","S01":"Besoin d‚Äôeau","S02":"Besoin de nourriture","S03":"Besoin de m√©dicaments","S04":"Besoin de batterie / courant","S05":"Besoin de carburant","S06":"Besoin d‚Äôoutils / √©quipement","P01":"Bloqu√© / coinc√©","P02":"√âvacuation vers","P03":"Confin√© sur place","P04":"En route vers","P05":"Aux coordonn√©es GPS","P06":"Perdu","P07":"Groupe s√©par√©","C01":"Envoyer les secours","C02":"Besoin de transport","C03":"Relayer ce message","C04":"Confirmer la r√©ception","C05":"Combien de personnes","C06":"Quel est le statut","C07":"Pouvez-vous atteindre","C08":"Rendez-vous √†","R01":"Re√ßu","R02":"Secours en route","R03":"Arriv√©e dans [minutes]","R04":"Ne peut pas aider","R05":"Redirection vers","R06":"Veuillez patienter","R07":"Situation r√©solue / fin d‚Äôalerte","D01":"Ceci est un exercice","D02":"Ceci est un test","D03":"Fin de l‚Äôexercice","D04":"Ignorer le pr√©c√©dent ‚Äî envoy√© par erreur","L01":"Bi√®re / boissons","L02":"Caf√©","L03":"Repas pr√™t","L04":"Sommet atteint","L05":"Au camp","L06":"En retard","L07":"Bon signal ici","L08":"Occasion photo","L09":"Faune observ√©e","L10":"Belle vue","L11":"Sentier en bon √©tat","L12":"Sentier en mauvais √©tat","L13":"Besoin d‚Äôune pause","L14":"Retour √† la maison","L15":"Bonjour / pointage","L16":"Bonne nuit","L17":"Merci","L18":"On s‚Äôamuse bien","L19":"Festival / √©v√©nement ici","L20":"Test de n≈ìud / ping","X01":"Personne dangereuse / menace √† proximit√©","X02":"Zone dangereuse ‚Äî √† √©viter","X03":"Coups de feu / explosions entendus","X04":"Troubles civils / foule dangereuse","X05":"Vol / pillage signal√©","X06":"Autorit√©s / services d‚Äôurgence sur place","X07":"Point de contr√¥le / barrage routier (autorit√©s)","H01":"Eau disponible","H02":"Nourriture disponible","H03":"Mat√©riel m√©dical disponible","H04":"Courant / recharge disponible","H05":"Carburant disponible","H06":"Outils / √©quipement disponibles","H07":"Abri / place pour [N] pers.","H08":"Transport / v√©hicule disponible"},"ui":{"send":"Envoyer","cancel":"Annuler","attach_gps":"Joindre GPS","add_count":"Ajouter un nombre","preview":"Aper√ßu","copy":"Copier","paste_decode":"Coller & d√©coder","severity_select":"S√©lectionner la gravit√©","category_select":"S√©lectionner la cat√©gorie","code_select":"S√©lectionner les codes","freetext_placeholder":"Texte optionnel...","parse_failed":"Message MECP ‚Äî analyse incompl√®te","unknown_code":"Code inconnu","message_too_long":"Le message d√©passe 200 octets","not_connected":"Aucun appareil connect√©","connecting":"Connexion...","connected_to":"Connect√© √†","scan_devices":"Rechercher des appareils","compose":"R√©diger","decode":"D√©coder","reference_card":"Carte de r√©f√©rence","history":"Historique","clear_history":"Effacer l‚Äôhistorique","export_history":"Exporter l‚Äôhistorique","drill_banner":"EXERCICE","untranslated_warning":"Ce texte n‚Äôest pas traduit","bytes_remaining":"octets restants","confirm_mayday":"Confirmer MAYDAY ‚Äî maintenir pour envoyer","message_copied":"Message copi√©","gps_acquiring":"Acquisition GPS...","add_reference_tag":"Ajouter un tag d‚Äôincident"},"deprecations":{}},
"it": {"language":"it","language_name":"Italiano","language_name_en":"Italian","language_name_latin":"Italiano","flag_emoji":"üáÆüáπ","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Pericolo di vita"},"1":{"local":"URGENTE","label":"URGENTE / Tempo critico"},"2":{"local":"SICUREZZA","label":"SICUREZZA / Importante"},"3":{"local":"ROUTINE","label":"ROUTINE / Normale"}},"categories":{"M":{"name":"Medico","icon":"medical"},"T":{"name":"Terreno / Infrastruttura","icon":"terrain"},"W":{"name":"Meteo / Ambiente","icon":"weather"},"S":{"name":"Forniture","icon":"supplies"},"P":{"name":"Posizione / Movimento","icon":"position"},"C":{"name":"Coordinamento","icon":"coordination"},"R":{"name":"Risposta","icon":"response"},"D":{"name":"Esercitazione / Test","icon":"drill"},"L":{"name":"Vita / Svago","icon":"leisure"},"X":{"name":"Minaccia / Sicurezza","icon":"threat"},"H":{"name":"Disponibile / Offerta risorse","icon":"resources"}},"codes":{"M01":"Ferita","M02":"Persona priva di sensi","M03":"Difficolt√† respiratoria","M04":"Evento cardiaco","M05":"Ipotermia","M06":"Emorragia grave","M07":"Frattura / immobilizzato","M08":"Ustioni","M09":"Vittime multiple","M10":"Deceduto","M11":"Morso / puntura di animale","M12":"Reazione allergica / anafilassi","M13":"Avvelenamento / esposizione tossica","M14":"Persone trovate in vita","M15":"Area perlustrata, nessuna vittima","T01":"Strada bloccata","T02":"Ponte crollato","T03":"Edificio crollato","T04":"Alluvione","T05":"Frana","T06":"Mancanza di corrente","T07":"Incendio","T08":"Valanga","T09":"Sentiero impraticabile","T10":"Rifugio disponibile","T11":"Annegamento / soccorso acquatico necessario","T12":"Acqua contaminata","T13":"Terremoto","T14":"Fuga di gas","T15":"Sversamento chimico / HAZMAT","T16":"Incidente stradale","T17":"Veicolo in fiamme","W01":"Tempesta in avvicinamento","W02":"Visibilit√† nulla","W03":"Freddo estremo","W04":"Caldo estremo","W05":"Qualit√† dell'aria pericolosa","W06":"Allerta tsunami / mareggiata","S01":"Serve acqua","S02":"Serve cibo","S03":"Servono medicinali","S04":"Serve batteria / energia","S05":"Serve carburante","S06":"Servono attrezzi / attrezzatura","P01":"Bloccati / intrappolati","P02":"In evacuazione verso","P03":"Rifugiati sul posto","P04":"In viaggio verso","P05":"Alle coordinate GPS","P06":"Persi","P07":"Gruppo separato","C01":"Inviate soccorso","C02":"Serve trasporto","C03":"Inoltrare questo messaggio","C04":"Confermare ricezione","C05":"Quante persone?","C06":"Qual √® lo stato?","C07":"Potete raggiungere?","C08":"Punto d'incontro a","R01":"Ricevuto","R02":"Aiuto in arrivo","R03":"Arrivo stimato [minuti]","R04":"Impossibile assistere","R05":"Reindirizzamento a","R06":"Attendere","R07":"Situazione risolta / tutto libero","D01":"Questa √® un'esercitazione","D02":"Questo √® un test","D03":"Fine dell'esercitazione","D04":"Ignorare il precedente ‚Äî inviato per errore","L01":"Birra / bevande","L02":"Caff√®","L03":"Cibo pronto","L04":"Vetta raggiunta","L05":"Al campo","L06":"In ritardo","L07":"Buon segnale qui","L08":"Occasione fotografica","L09":"Fauna avvistata","L10":"Bella vista","L11":"Sentiero in buone condizioni","L12":"Sentiero in cattive condizioni","L13":"Serve una pausa","L14":"In rientro","L15":"Buongiorno / check-in","L16":"Buonanotte","L17":"Grazie","L18":"Ci stiamo divertendo","L19":"Festival / evento qui","L20":"Test nodo / ping","X01":"Persona pericolosa / minaccia vicina","X02":"Zona non sicura ‚Äî evitare","X03":"Spari / esplosioni uditi","X04":"Disordini civili / pericolo folla","X05":"Furto / saccheggio segnalato","X06":"Autorit√† / servizi di emergenza presenti","X07":"Posto di blocco / chiusura stradale (autorit√†)","H01":"Acqua disponibile","H02":"Cibo disponibile","H03":"Forniture mediche disponibili","H04":"Energia / ricarica disponibile","H05":"Carburante disponibile","H06":"Attrezzi / attrezzatura disponibile","H07":"Rifugio / spazio per [N]pax","H08":"Trasporto / veicolo disponibile"},"ui":{"send":"Invia","cancel":"Annulla","attach_gps":"Allega GPS","add_count":"Aggiungi conteggio","preview":"Anteprima","copy":"Copia","paste_decode":"Incolla e decodifica","severity_select":"Seleziona gravit√†","category_select":"Seleziona categoria","code_select":"Seleziona codici","freetext_placeholder":"Testo opzionale...","parse_failed":"Messaggio MECP ‚Äî analisi incompleta","unknown_code":"Codice sconosciuto","message_too_long":"Il messaggio supera i 200 byte","not_connected":"Nessun dispositivo connesso","connecting":"Connessione...","connected_to":"Connesso a","scan_devices":"Cerca dispositivi","compose":"Componi","decode":"Decodifica","reference_card":"Scheda di riferimento","history":"Cronologia","clear_history":"Cancella cronologia","export_history":"Esporta cronologia","drill_banner":"ESERCITAZIONE","untranslated_warning":"Questo testo non √® tradotto","bytes_remaining":"byte rimanenti","confirm_mayday":"Conferma MAYDAY ‚Äî tieni premuto per inviare","message_copied":"Messaggio copiato","gps_acquiring":"Acquisizione GPS...","add_reference_tag":"Aggiungi tag incidente"},"deprecations":{}},
"ja": {"language":"ja","language_name":"Êó•Êú¨Ë™û","language_name_en":"Japanese","language_name_latin":"Nihongo","flag_emoji":"üáØüáµ","text_direction":"ltr","severities":{"0":{"local":"„É°„Éº„Éá„Éº","label":"MAYDAY / ÁîüÂëΩ„ÅÆÂç±Èô∫"},"1":{"local":"Á∑äÊÄ•","label":"URGENT / ÊôÇÈñìÁ∑äËø´"},"2":{"local":"ÂÆâÂÖ®","label":"SAFETY / ÈáçË¶Å"},"3":{"local":"ÈÄöÂ∏∏","label":"ROUTINE / ÈÄöÂ∏∏"}},"categories":{"M":{"name":"ÂåªÁôÇ","icon":"medical"},"T":{"name":"Âú∞ÂΩ¢ / „Ç§„É≥„Éï„É©","icon":"terrain"},"W":{"name":"Ê∞óË±° / Áí∞Â¢É","icon":"weather"},"S":{"name":"Áâ©Ë≥á","icon":"supplies"},"P":{"name":"‰ΩçÁΩÆ / ÁßªÂãï","icon":"position"},"C":{"name":"ÈÄ£Áµ°Ë™øÊï¥","icon":"coordination"},"R":{"name":"ÂøúÁ≠î","icon":"response"},"D":{"name":"Ë®ìÁ∑¥ / „ÉÜ„Çπ„Éà","icon":"drill"},"L":{"name":"Êó•Â∏∏ / „É¨„Ç∏„É£„Éº","icon":"leisure"},"X":{"name":"ËÑÖÂ®Å / Ê≤ªÂÆâ","icon":"threat"},"H":{"name":"Êèê‰æõÂèØËÉΩ„Å™Ë≥áÊ∫ê","icon":"resources"}},"codes":{"M01":"Ë≤†ÂÇ∑","M02":"ÊÑèË≠ò‰∏çÊòéËÄÖ","M03":"ÂëºÂê∏Âõ∞Èõ£","M04":"ÂøÉËáìÁô∫‰Ωú","M05":"‰Ωé‰ΩìÊ∏©Áóá","M06":"Â§ßÈáèÂá∫Ë°Ä","M07":"È™®Êäò / Âãï„Åë„Å™„ÅÑ","M08":"„ÇÑ„Åë„Å©","M09":"Â§öÊï∞Ë≤†ÂÇ∑ËÄÖ","M10":"Ê≠ª‰∫°","M11":"ÂãïÁâ©Âí¨ÂÇ∑ / Âà∫ÂÇ∑","M12":"„Ç¢„É¨„É´„ÇÆ„ÉºÂèçÂøú / „Ç¢„Éä„Éï„Ç£„É©„Ç≠„Ç∑„Éº","M13":"‰∏≠ÊØí / ÊúâÂÆ≥Áâ©Ë≥™ÊõùÈú≤","M14":"ÁîüÂ≠òËÄÖÁô∫Ë¶ã","M15":"ÊçúÁ¥¢ÂÆå‰∫Ü„ÄÅË¶ÅÊïëÂä©ËÄÖ„Å™„Åó","T01":"ÈÅìË∑ØÈñâÂ°û","T02":"Ê©ãÊ¢ÅÊêçÂ£ä","T03":"Âª∫Áâ©ÂÄíÂ£ä","T04":"Ê¥™Ê∞¥","T05":"ÂúüÁ†ÇÂ¥©„Çå","T06":"ÂÅúÈõª","T07":"ÁÅ´ÁÅΩ","T08":"Èõ™Â¥©","T09":"ÈÄöË°å‰∏çËÉΩ","T10":"ÈÅøÈõ£ÊâÄ„ÅÇ„Çä","T11":"Ê∫∫Ê∞¥ / Ê∞¥Èõ£ÊïëÂä©Ë¶ÅË´ã","T12":"Ê∞¥Ë≥™Ê±öÊüì","T13":"Âú∞Èúá","T14":"„Ç¨„ÇπÊºè„Çå","T15":"ÂåñÂ≠¶Áâ©Ë≥™ÊµÅÂá∫ / Âç±Èô∫Áâ©","T16":"Ëªä‰∏°‰∫ãÊïÖ","T17":"Ëªä‰∏°ÁÅ´ÁÅΩ","W01":"Êö¥È¢®Èõ®Êé•Ëøë‰∏≠","W02":"Ë¶ñÁïå„Çº„É≠","W03":"Ê•µÂ∫¶„ÅÆÂØí„Åï","W04":"Ê•µÂ∫¶„ÅÆÊöë„Åï","W05":"Â§ßÊ∞óÊ±öÊüìÂç±Èô∫","W06":"Ê¥•Ê≥¢ / È´òÊΩÆË≠¶Â†±","S01":"Ê∞¥„ÅåÂøÖË¶Å","S02":"È£üÊñô„ÅåÂøÖË¶Å","S03":"Ëñ¨„ÅåÂøÖË¶Å","S04":"„Éê„ÉÉ„ÉÜ„É™„Éº / ÈõªÊ∫ê„ÅåÂøÖË¶Å","S05":"ÁáÉÊñô„ÅåÂøÖË¶Å","S06":"Â∑•ÂÖ∑ / Ë£ÖÂÇô„ÅåÂøÖË¶Å","P01":"Á´ã„Å°ÂæÄÁîü / Âãï„Åë„Å™„ÅÑ","P02":"ÈÅøÈõ£‰∏≠„ÄÅÊñπÂêëÔºö","P03":"Â±ãÂÜÖÈÄÄÈÅø‰∏≠","P04":"ÁßªÂãï‰∏≠„ÄÅË°å„ÅçÂÖàÔºö","P05":"GPSÂ∫ßÊ®ô„Å´„Å¶","P06":"Ëø∑Â≠ê","P07":"„Ç∞„É´„Éº„ÉóÈõ¢Êï£","C01":"ÊïëÂä©„ÇíË¶ÅË´ã","C02":"ÁßªÈÄÅÊâãÊÆµ„ÅåÂøÖË¶Å","C03":"„Åì„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí‰∏≠Á∂ô","C04":"Âèó‰ø°Á¢∫Ë™ç","C05":"‰∫∫Êï∞„ÅØ","C06":"Áä∂Ê≥Å„ÅØ","C07":"ÈÄ£Áµ°ÂèØËÉΩ„Åã","C08":"ÂêàÊµÅÂú∞ÁÇπÔºö","R01":"‰∫ÜËß£","R02":"ÊïëÂä©„Å´Âêë„Åã„Å£„Å¶„ÅÑ„Çã","R03":"Âà∞ÁùÄ‰∫àÂÆö [ÂàÜ]","R04":"ÊîØÊè¥‰∏çÂèØ","R05":"Ëª¢ÈÄÅÂÖàÔºö","R06":"ÂæÖÊ©ü","R07":"‰∫ãÊÖãËß£Ê±∫ / ÂÆâÂÖ®Á¢∫Ë™ç","D01":"„Åì„Çå„ÅØË®ìÁ∑¥„Åß„Åô","D02":"„Åì„Çå„ÅØ„ÉÜ„Çπ„Éà„Åß„Åô","D03":"Ë®ìÁ∑¥ÁµÇ‰∫Ü","D04":"Ââç„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØË™§ÈÄÅ‰ø° ‚Äî ÁÑ°Ë¶ñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ","L01":"„Éì„Éº„É´ / È£≤„ÅøÁâ©","L02":"„Ç≥„Éº„Éí„Éº","L03":"È£ü‰∫ãÊ∫ñÂÇôÂÆå‰∫Ü","L04":"Â±±È†ÇÂà∞ÈÅî","L05":"„Ç≠„É£„É≥„ÉóÂú∞„Å´„Å¶","L06":"ÈÅÖ„Çå„Å¶„ÅÑ„Åæ„Åô","L07":"ÈõªÊ≥¢ËâØÂ•Ω","L08":"ÊíÆÂΩ±„Çπ„Éù„ÉÉ„Éà","L09":"ÈáéÁîüÂãïÁâ©Áô∫Ë¶ã","L10":"Áµ∂ÊôØ","L11":"ÁôªÂ±±ÈÅìÁä∂ÊÖãËâØÂ•Ω","L12":"ÁôªÂ±±ÈÅìÁä∂ÊÖã‰∏çËâØ","L13":"‰ºëÊÜ©„ÅåÂøÖË¶Å","L14":"Â∏∞ÈÄî„Å´„Å§„Åè","L15":"„Åä„ÅØ„Çà„ÅÜ / „ÉÅ„Çß„ÉÉ„ÇØ„Ç§„É≥","L16":"„Åä„ÇÑ„Åô„Åø","L17":"„ÅÇ„Çä„Åå„Å®„ÅÜ","L18":"Ê•Ω„Åó„Çì„Åß„ÅÑ„Åæ„Åô","L19":"Á•≠„Çä / „Ç§„Éô„É≥„ÉàÈñãÂÇ¨‰∏≠","L20":"„Éé„Éº„Éâ„ÉÜ„Çπ„Éà / ping","X01":"Âç±Èô∫‰∫∫Áâ© / Ëøë„Åè„Å´ËÑÖÂ®Å","X02":"Âç±Èô∫Âå∫Âüü ‚Äî ÂõûÈÅø„Åõ„Çà","X03":"ÈäÉÂ£∞ / ÁàÜÁô∫Èü≥","X04":"Êö¥Âãï / Áæ§Ë°Ü„ÅÆÂç±Èô∫","X05":"Á™ÉÁõó / Áï•Â•™„ÅÆÂ†±Âëä","X06":"ÂΩìÂ±Ä / ÊïëÊÄ•„Çµ„Éº„Éì„ÇπÂà∞ÁùÄ","X07":"Ê§úÂïèÊâÄ / ÈÅìË∑ØÂ∞ÅÈéñÔºàÂΩìÂ±ÄÔºâ","H01":"Ê∞¥„ÅÇ„Çä","H02":"È£üÊñô„ÅÇ„Çä","H03":"ÂåªÁôÇÁâ©Ë≥á„ÅÇ„Çä","H04":"ÈõªÊ∫ê / ÂÖÖÈõª„ÅÇ„Çä","H05":"ÁáÉÊñô„ÅÇ„Çä","H06":"Â∑•ÂÖ∑ / Ë£ÖÂÇô„ÅÇ„Çä","H07":"ÈÅøÈõ£ÊâÄ / [N]ÂêçÂàÜ„ÅÆÁ©∫„Åç„ÅÇ„Çä","H08":"ÁßªÈÄÅÊâãÊÆµ / Ëªä‰∏°„ÅÇ„Çä"},"ui":{"send":"ÈÄÅ‰ø°","cancel":"„Ç≠„É£„É≥„Çª„É´","attach_gps":"GPSÊ∑ª‰ªò","add_count":"‰∫∫Êï∞ËøΩÂä†","preview":"„Éó„É¨„Éì„É•„Éº","copy":"„Ç≥„Éî„Éº","paste_decode":"Ë≤º„Çä‰ªò„Åë„Å¶Ëß£Ë™≠","severity_select":"Á∑äÊÄ•Â∫¶„ÇíÈÅ∏Êäû","category_select":"„Ç´„ÉÜ„Ç¥„É™„ÇíÈÅ∏Êäû","code_select":"„Ç≥„Éº„Éâ„ÇíÈÅ∏Êäû","freetext_placeholder":"‰ªªÊÑè„ÅÆ„ÉÜ„Ç≠„Çπ„Éà...","parse_failed":"MECP„É°„ÉÉ„Çª„Éº„Ç∏ ‚Äî ÂÆåÂÖ®„Å´Ëß£Êûê„Åß„Åç„Åæ„Åõ„Çì","unknown_code":"‰∏çÊòé„Å™„Ç≥„Éº„Éâ","message_too_long":"„É°„ÉÉ„Çª„Éº„Ç∏„Åå200„Éê„Ç§„Éà„ÇíË∂Ö„Åà„Å¶„ÅÑ„Åæ„Åô","not_connected":"„Éá„Éê„Ç§„ÇπÊú™Êé•Á∂ö","connecting":"Êé•Á∂ö‰∏≠...","connected_to":"Êé•Á∂öÂÖàÔºö","scan_devices":"„Éá„Éê„Ç§„Çπ„ÇíÊ§úÁ¥¢","compose":"‰ΩúÊàê","decode":"Ëß£Ë™≠","reference_card":"„É™„Éï„Ç°„É¨„É≥„Çπ„Ç´„Éº„Éâ","history":"Â±•Ê≠¥","clear_history":"Â±•Ê≠¥„ÇíÊ∂àÂéª","export_history":"Â±•Ê≠¥„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà","drill_banner":"Ë®ìÁ∑¥","untranslated_warning":"„Åì„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÅØÁøªË®≥„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì","bytes_remaining":"„Éê„Ç§„ÉàÊÆã„Çä","confirm_mayday":"„É°„Éº„Éá„ÉºÁ¢∫Ë™ç ‚Äî Èï∑Êäº„Åó„ÅßÈÄÅ‰ø°","message_copied":"„É°„ÉÉ„Çª„Éº„Ç∏„Çí„Ç≥„Éî„Éº„Åó„Åæ„Åó„Åü","gps_acquiring":"GPSÂèñÂæó‰∏≠...","add_reference_tag":"„Ç§„É≥„Ç∑„Éá„É≥„Éà„Çø„Ç∞„ÇíËøΩÂä†"},"deprecations":{}},
"nl": {"language":"nl","language_name":"Nederlands","language_name_en":"Dutch","language_name_latin":"Nederlands","flag_emoji":"üá≥üá±","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Levensbedreigend"},"1":{"local":"DRINGEND","label":"DRINGEND / Tijdkritiek"},"2":{"local":"VEILIGHEID","label":"VEILIGHEID / Belangrijk"},"3":{"local":"ROUTINE","label":"ROUTINE / Normaal"}},"categories":{"M":{"name":"Medisch","icon":"medical"},"T":{"name":"Terrein / Infrastructuur","icon":"terrain"},"W":{"name":"Weer / Milieu","icon":"weather"},"S":{"name":"Benodigdheden","icon":"supplies"},"P":{"name":"Positie / Verplaatsing","icon":"position"},"C":{"name":"Co√∂rdinatie","icon":"coordination"},"R":{"name":"Reactie","icon":"response"},"D":{"name":"Oefening / Test","icon":"drill"},"L":{"name":"Dagelijks / Vrije tijd","icon":"leisure"},"X":{"name":"Dreiging / Veiligheid","icon":"threat"},"H":{"name":"Beschikbaar / Middelen aanbieden","icon":"resources"}},"codes":{"M01":"Verwonding","M02":"Bewusteloos persoon","M03":"Ademhalingsproblemen","M04":"Hartincident","M05":"Onderkoeling","M06":"Ernstige bloeding","M07":"Breuk / niet mobiel","M08":"Brandwonden","M09":"Meerdere slachtoffers","M10":"Overleden","M11":"Dierenbeet / -steek","M12":"Allergische reactie / anafylaxie","M13":"Vergiftiging / giftige blootstelling","M14":"Personen levend gevonden","M15":"Gebied doorzocht, geen slachtoffers","T01":"Weg geblokkeerd","T02":"Brug vernield","T03":"Gebouw ingestort","T04":"Overstroming","T05":"Aardverschuiving","T06":"Stroomuitval","T07":"Brand","T08":"Lawine","T09":"Pad onbegaanbaar","T10":"Schuilplaats beschikbaar","T11":"Verdrinking / waterredding nodig","T12":"Watervervuiling","T13":"Aardbeving","T14":"Gaslek","T15":"Chemisch incident / gevaarlijke stoffen","T16":"Verkeersongeval","T17":"Voertuigbrand","W01":"Storm nadert","W02":"Zicht nul","W03":"Extreme koude","W04":"Extreme hitte","W05":"Luchtkwaliteit gevaarlijk","W06":"Tsunami- / stormvloedwaarschuwing","S01":"Water nodig","S02":"Voedsel nodig","S03":"Medicijnen nodig","S04":"Batterij / stroom nodig","S05":"Brandstof nodig","S06":"Gereedschap / uitrusting nodig","P01":"Gestrand / vastzittend","P02":"Evacuatie richting","P03":"Schuilen ter plaatse","P04":"Onderweg naar","P05":"Op GPS-co√∂rdinaten","P06":"Verdwaald","P07":"Groep gescheiden","C01":"Stuur redding","C02":"Transport nodig","C03":"Bericht doorsturen","C04":"Ontvangst bevestigen","C05":"Hoeveel personen","C06":"Wat is de status","C07":"Kun je bereiken","C08":"Verzamelpunt bij","R01":"Bevestigd","R02":"Hulp onderweg","R03":"Aankomst over [minuten]","R04":"Kan niet helpen","R05":"Doorverwijzing naar","R06":"Even wachten","R07":"Situatie opgelost / veilig","D01":"Dit is een oefening","D02":"Dit is een test","D03":"Einde oefening","D04":"Vorige negeren ‚Äî per ongeluk verzonden","L01":"Bier / drankjes","L02":"Koffie","L03":"Eten klaar","L04":"Top bereikt","L05":"Op de camping","L06":"Ben te laat","L07":"Goed signaal hier","L08":"Fotomoment","L09":"Wild dier gespot","L10":"Prachtig uitzicht","L11":"Padcondities goed","L12":"Padcondities slecht","L13":"Pauze nodig","L14":"Op weg naar huis","L15":"Goedemorgen / check-in","L16":"Goedenacht","L17":"Bedankt","L18":"Veel plezier","L19":"Festival / evenement hier","L20":"Knooppunttest / ping","X01":"Gevaarlijk persoon / dreiging nabij","X02":"Gebied onveilig ‚Äî vermijden","X03":"Schoten / explosies gehoord","X04":"Onrust / menigte gevaarlijk","X05":"Diefstal / plundering gemeld","X06":"Autoriteiten / hulpdiensten aanwezig","X07":"Controlepost / wegafsluiting (overheid)","H01":"Water beschikbaar","H02":"Voedsel beschikbaar","H03":"Medische voorraad beschikbaar","H04":"Stroom / oplaadpunt beschikbaar","H05":"Brandstof beschikbaar","H06":"Gereedschap / uitrusting beschikbaar","H07":"Schuilplaats / ruimte voor [N] pers.","H08":"Transport / voertuig beschikbaar"},"ui":{"send":"Verzenden","cancel":"Annuleren","attach_gps":"GPS toevoegen","add_count":"Aantal toevoegen","preview":"Voorbeeld","copy":"Kopi√´ren","paste_decode":"Plakken & decoderen","severity_select":"Ernst selecteren","category_select":"Categorie selecteren","code_select":"Codes selecteren","freetext_placeholder":"Optionele tekst...","parse_failed":"MECP-bericht ‚Äî kon niet volledig worden geparsed","unknown_code":"Onbekende code","message_too_long":"Bericht overschrijdt 200 bytes","not_connected":"Geen apparaat verbonden","connecting":"Verbinden...","connected_to":"Verbonden met","scan_devices":"Apparaten zoeken","compose":"Opstellen","decode":"Decoderen","reference_card":"Referentiekaart","history":"Geschiedenis","clear_history":"Geschiedenis wissen","export_history":"Geschiedenis exporteren","drill_banner":"OEFENING","untranslated_warning":"Deze tekst is niet vertaald","bytes_remaining":"bytes resterend","confirm_mayday":"MAYDAY bevestigen ‚Äî houd ingedrukt om te verzenden","message_copied":"Bericht gekopieerd","gps_acquiring":"GPS wordt bepaald...","add_reference_tag":"Incidenttag toevoegen"},"deprecations":{}},
"no": {"language":"no","language_name":"Norsk","language_name_en":"Norwegian","language_name_latin":"Norsk","flag_emoji":"üá≥üá¥","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Livstruende"},"1":{"local":"HASTER","label":"HASTER / Tidskritisk"},"2":{"local":"SIKKERHET","label":"SIKKERHET / Viktig"},"3":{"local":"RUTINE","label":"RUTINE / Normal"}},"categories":{"M":{"name":"Medisinsk","icon":"medical"},"T":{"name":"Terreng / Infrastruktur","icon":"terrain"},"W":{"name":"V√¶r / Milj√∏","icon":"weather"},"S":{"name":"Forsyninger","icon":"supplies"},"P":{"name":"Posisjon / Bevegelse","icon":"position"},"C":{"name":"Koordinering","icon":"coordination"},"R":{"name":"Respons","icon":"response"},"D":{"name":"√òvelse / Test","icon":"drill"},"L":{"name":"Liv / Fritid","icon":"leisure"},"X":{"name":"Trussel / Sikkerhet","icon":"threat"},"H":{"name":"Tilgjengelige ressurser","icon":"resources"}},"codes":{"M01":"Skade","M02":"Bevisstl√∏s person","M03":"Pustevansker","M04":"Hjertehendelse","M05":"Hypotermi","M06":"Kraftig bl√∏dning","M07":"Brudd / immobil","M08":"Brannskader","M09":"Flere skadde","M10":"D√∏d","M11":"Dyrebitt / stikk","M12":"Allergisk reaksjon / anafylaksi","M13":"Forgiftning / giftig eksponering","M14":"Personer funnet i live","M15":"Omr√•de s√∏kt, ingen ofre funnet","T01":"Vei sperret","T02":"Bro √∏delagt","T03":"Bygning kollapset","T04":"Oversv√∏mmelse","T05":"Jordskred","T06":"Str√∏mbrudd","T07":"Brann","T08":"Sn√∏skred","T09":"Sti ufremkommelig","T10":"Tilfluktsrom tilgjengelig","T11":"Drukning / vannredning n√∏dvendig","T12":"Vannforurensning","T13":"Jordskjelv","T14":"Gasslekkasje","T15":"Kjemisk utslipp / HAZMAT","T16":"Kj√∏ret√∏yulykke","T17":"Kj√∏ret√∏ybrann","W01":"Storm n√¶rmer seg","W02":"Null sikt","W03":"Ekstrem kulde","W04":"Ekstrem varme","W05":"Farlig luftkvalitet","W06":"Tsunami- / stormflovarsel","S01":"Trenger vann","S02":"Trenger mat","S03":"Trenger medisin","S04":"Trenger batteri / str√∏m","S05":"Trenger drivstoff","S06":"Trenger verkt√∏y / utstyr","P01":"Strandet / fastkj√∏rt","P02":"Evakuerer mot","P03":"S√∏ker ly p√• stedet","P04":"P√• vei til","P05":"Ved GPS-koordinater","P06":"G√•tt seg bort","P07":"Gruppen splittet","C01":"Send redning","C02":"Trenger transport","C03":"Videresend denne meldingen","C04":"Bekreft mottatt","C05":"Hvor mange personer","C06":"Hva er status","C07":"Kan du n√•","C08":"M√∏tepunkt ved","R01":"Mottatt","R02":"Hjelp er underveis","R03":"Ankomst om [minutter]","R04":"Kan ikke bist√•","R05":"Omdirigerer til","R06":"Vent","R07":"Situasjon l√∏st / alt klart","D01":"Dette er en √∏velse","D02":"Dette er en test","D03":"Slutt p√• √∏velse","D04":"Ignorer forrige ‚Äî sendt ved feil","L01":"√òl / drikke","L02":"Kaffe","L03":"Mat klar","L04":"Toppen n√•dd","L05":"Ved leiren","L06":"Forsinket","L07":"Godt signal her","L08":"Fotomulighet","L09":"Dyreliv observert","L10":"Flott utsikt","L11":"Gode forhold p√• stien","L12":"D√•rlige forhold p√• stien","L13":"Trenger en pause","L14":"P√• vei hjem","L15":"God morgen / innsjekk","L16":"God natt","L17":"Takk","L18":"Har det g√∏y","L19":"Festival / arrangement her","L20":"Nodetest / ping","X01":"Farlig person / trussel i n√¶rheten","X02":"Utrygt omr√•de ‚Äî unng√•","X03":"Skudd / eksplosjoner h√∏rt","X04":"Sivil uro / fare i folkemengde","X05":"Tyveri / plyndring rapportert","X06":"Myndigheter / n√∏detater til stede","X07":"Kontrollpost / veisperring (myndigheter)","H01":"Vann tilgjengelig","H02":"Mat tilgjengelig","H03":"Medisinsk utstyr tilgjengelig","H04":"Str√∏m / lading tilgjengelig","H05":"Drivstoff tilgjengelig","H06":"Verkt√∏y / utstyr tilgjengelig","H07":"Ly / plass for [N]pers.","H08":"Transport / kj√∏ret√∏y tilgjengelig"},"ui":{"send":"Send","cancel":"Avbryt","attach_gps":"Legg til GPS","add_count":"Legg til antall","preview":"Forh√•ndsvisning","copy":"Kopier","paste_decode":"Lim inn og dekod","severity_select":"Velg alvorlighetsgrad","category_select":"Velg kategori","code_select":"Velg koder","freetext_placeholder":"Valgfri tekst...","parse_failed":"MECP-melding ‚Äî kunne ikke analysere fullstendig","unknown_code":"Ukjent kode","message_too_long":"Meldingen overskrider 200 byte","not_connected":"Ingen enhet tilkoblet","connecting":"Kobler til...","connected_to":"Tilkoblet","scan_devices":"S√∏k etter enheter","compose":"Skriv","decode":"Dekod","reference_card":"Referansekort","history":"Historikk","clear_history":"Slett historikk","export_history":"Eksporter historikk","drill_banner":"√òVELSE","untranslated_warning":"Denne teksten er ikke oversatt","bytes_remaining":"byte gjenst√•r","confirm_mayday":"Bekreft MAYDAY ‚Äî hold inne for √• sende","message_copied":"Melding kopiert","gps_acquiring":"Henter GPS...","add_reference_tag":"Legg til hendelsesmerke"},"deprecations":{}},
"pl": {"language":"pl","language_name":"Polski","language_name_en":"Polish","language_name_latin":"Polski","flag_emoji":"üáµüá±","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Zagro≈ºenie ≈ºycia"},"1":{"local":"PILNE","label":"PILNE / Czas krytyczny"},"2":{"local":"BEZPIECZE≈ÉSTWO","label":"BEZPIECZE≈ÉSTWO / Wa≈ºne"},"3":{"local":"RUTYNA","label":"RUTYNA / Normalne"}},"categories":{"M":{"name":"Medyczne","icon":"medical"},"T":{"name":"Teren / Infrastruktura","icon":"terrain"},"W":{"name":"Pogoda / ≈örodowisko","icon":"weather"},"S":{"name":"Zaopatrzenie","icon":"supplies"},"P":{"name":"Pozycja / Ruch","icon":"position"},"C":{"name":"Koordynacja","icon":"coordination"},"R":{"name":"Odpowied≈∫","icon":"response"},"D":{"name":"ƒÜwiczenia / Test","icon":"drill"},"L":{"name":"≈ªycie / Wypoczynek","icon":"leisure"},"X":{"name":"Zagro≈ºenie / Bezpiecze≈Ñstwo","icon":"threat"},"H":{"name":"Dostƒôpne / Oferta zasob√≥w","icon":"resources"}},"codes":{"M01":"Uraz","M02":"Osoba nieprzytomna","M03":"Trudno≈õci z oddychaniem","M04":"Zdarzenie kardiologiczne","M05":"Hipotermia","M06":"Silne krwawienie","M07":"Z≈Çamanie / unieruchomiony","M08":"Oparzenia","M09":"Wiele ofiar","M10":"Zgon","M11":"Ugryzienie / u≈ºƒÖdlenie przez zwierzƒô","M12":"Reakcja alergiczna / anafilaksja","M13":"Zatrucie / nara≈ºenie na toksyny","M14":"Osoby odnalezione ≈ºywe","M15":"Teren przeszukany, brak ofiar","T01":"Droga zablokowana","T02":"Most zniszczony","T03":"Budynek zawalony","T04":"Pow√≥d≈∫","T05":"Osuniƒôcie ziemi","T06":"Brak prƒÖdu","T07":"Po≈ºar","T08":"Lawina","T09":"Szlak nieprzejezdny","T10":"Schronienie dostƒôpne","T11":"Toniƒôcie / potrzebny ratunek wodny","T12":"Ska≈ºenie wody","T13":"Trzƒôsienie ziemi","T14":"Wyciek gazu","T15":"Wyciek chemiczny / HAZMAT","T16":"Wypadek drogowy","T17":"Po≈ºar pojazdu","W01":"Zbli≈ºa siƒô burza","W02":"Zerowa widoczno≈õƒá","W03":"Ekstremalny mr√≥z","W04":"Ekstremalne upa≈Çy","W05":"Niebezpieczna jako≈õƒá powietrza","W06":"Ostrze≈ºenie przed tsunami / falƒÖ sztormowƒÖ","S01":"Potrzebna woda","S02":"Potrzebna ≈ºywno≈õƒá","S03":"Potrzebne leki","S04":"Potrzebna bateria / zasilanie","S05":"Potrzebne paliwo","S06":"Potrzebne narzƒôdzia / sprzƒôt","P01":"Uwiƒôzieni / zablokowani","P02":"Ewakuacja w kierunku","P03":"Schronienie na miejscu","P04":"W drodze do","P05":"Na wsp√≥≈Çrzƒôdnych GPS","P06":"Zagubieni","P07":"Grupa rozdzielona","C01":"Wy≈õlijcie ratunek","C02":"Potrzebny transport","C03":"Przeka≈ºcie tƒô wiadomo≈õƒá","C04":"Potwierd≈∫cie odbi√≥r","C05":"Ile os√≥b?","C06":"Jaki jest stan?","C07":"Czy mo≈ºecie dotrzeƒá?","C08":"Zbi√≥rka w","R01":"Potwierdzono","R02":"Pomoc w drodze","R03":"Czas przybycia [minuty]","R04":"Nie mo≈ºemy pom√≥c","R05":"Przekierowanie do","R06":"Czekajcie","R07":"Sytuacja opanowana / koniec zagro≈ºenia","D01":"To ƒáwiczenia","D02":"To jest test","D03":"Koniec ƒáwicze≈Ñ","D04":"Zignorujcie poprzednie ‚Äî wys≈Çano przez pomy≈Çkƒô","L01":"Piwo / napoje","L02":"Kawa","L03":"Jedzenie gotowe","L04":"Szczyt zdobyty","L05":"Na obozie","L06":"Sp√≥≈∫niam siƒô","L07":"Dobry sygna≈Ç tutaj","L08":"Okazja na zdjƒôcie","L09":"Zauwa≈ºono dzikƒÖ zwierzynƒô","L10":"Piƒôkny widok","L11":"Szlak w dobrym stanie","L12":"Szlak w z≈Çym stanie","L13":"Potrzebujƒô przerwy","L14":"Wracam do domu","L15":"Dzie≈Ñ dobry / meldunek","L16":"Dobranoc","L17":"Dziƒôkujƒô","L18":"Dobrze siƒô bawimy","L19":"Festiwal / wydarzenie tutaj","L20":"Test wƒôz≈Ça / ping","X01":"Niebezpieczna osoba / zagro≈ºenie w pobli≈ºu","X02":"Strefa niebezpieczna ‚Äî unikaƒá","X03":"S≈Çyszano strza≈Çy / eksplozje","X04":"Zamieszki / zagro≈ºenie t≈Çumem","X05":"Zg≈Çoszono kradzie≈º / grabie≈º","X06":"W≈Çadze / s≈Çu≈ºby ratunkowe na miejscu","X07":"Punkt kontrolny / blokada drogi (w≈Çadze)","H01":"Dostƒôpna woda","H02":"Dostƒôpna ≈ºywno≈õƒá","H03":"Dostƒôpne ≈õrodki medyczne","H04":"Dostƒôpne zasilanie / ≈Çadowanie","H05":"Dostƒôpne paliwo","H06":"Dostƒôpne narzƒôdzia / sprzƒôt","H07":"Dostƒôpne schronienie / miejsce dla [N]os.","H08":"Dostƒôpny transport / pojazd"},"ui":{"send":"Wy≈õlij","cancel":"Anuluj","attach_gps":"Do≈ÇƒÖcz GPS","add_count":"Dodaj liczbƒô","preview":"PodglƒÖd","copy":"Kopiuj","paste_decode":"Wklej i dekoduj","severity_select":"Wybierz priorytet","category_select":"Wybierz kategoriƒô","code_select":"Wybierz kody","freetext_placeholder":"Tekst opcjonalny...","parse_failed":"Wiadomo≈õƒá MECP ‚Äî nie uda≈Ço siƒô w pe≈Çni odczytaƒá","unknown_code":"Nieznany kod","message_too_long":"Wiadomo≈õƒá przekracza 200 bajt√≥w","not_connected":"Brak po≈ÇƒÖczonego urzƒÖdzenia","connecting":"≈ÅƒÖczenie...","connected_to":"Po≈ÇƒÖczono z","scan_devices":"Szukaj urzƒÖdze≈Ñ","compose":"Utw√≥rz","decode":"Dekoduj","reference_card":"Karta referencyjna","history":"Historia","clear_history":"Wyczy≈õƒá historiƒô","export_history":"Eksportuj historiƒô","drill_banner":"ƒÜWICZENIA","untranslated_warning":"Ten tekst nie jest przet≈Çumaczony","bytes_remaining":"bajt√≥w pozosta≈Ço","confirm_mayday":"Potwierd≈∫ MAYDAY ‚Äî przytrzymaj aby wys≈Çaƒá","message_copied":"Wiadomo≈õƒá skopiowana","gps_acquiring":"Uzyskiwanie GPS...","add_reference_tag":"Dodaj tag incydentu"},"deprecations":{}},
"pt": {"language":"pt","language_name":"Portugu√™s","language_name_en":"Portuguese","language_name_latin":"Portugu√™s","flag_emoji":"üáµüáπ","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Risco de vida"},"1":{"local":"URGENTE","label":"URGENTE / Cr√≠tico no tempo"},"2":{"local":"SEGURAN√áA","label":"SEGURAN√áA / Importante"},"3":{"local":"ROTINA","label":"ROTINA / Normal"}},"categories":{"M":{"name":"M√©dico","icon":"medical"},"T":{"name":"Terreno / Infraestrutura","icon":"terrain"},"W":{"name":"Meteorologia / Ambiente","icon":"weather"},"S":{"name":"Suprimentos","icon":"supplies"},"P":{"name":"Posi√ß√£o / Movimento","icon":"position"},"C":{"name":"Coordena√ß√£o","icon":"coordination"},"R":{"name":"Resposta","icon":"response"},"D":{"name":"Simulacro / Teste","icon":"drill"},"L":{"name":"Vida / Lazer","icon":"leisure"},"X":{"name":"Amea√ßa / Seguran√ßa","icon":"threat"},"H":{"name":"Dispon√≠vel / Oferta de Recursos","icon":"resources"}},"codes":{"M01":"Ferimento","M02":"Pessoa inconsciente","M03":"Dificuldade respirat√≥ria","M04":"Evento card√≠aco","M05":"Hipotermia","M06":"Hemorragia grave","M07":"Fratura / im√≥vel","M08":"Queimaduras","M09":"M√∫ltiplas v√≠timas","M10":"Falecido","M11":"Mordida / picada de animal","M12":"Rea√ß√£o al√©rgica / anafilaxia","M13":"Envenenamento / exposi√ß√£o t√≥xica","M14":"Pessoas localizadas com vida","M15":"√Årea pesquisada, sem v√≠timas","T01":"Estrada bloqueada","T02":"Ponte destru√≠da","T03":"Edif√≠cio desabado","T04":"Inunda√ß√£o","T05":"Deslizamento de terra","T06":"Sem eletricidade","T07":"Inc√™ndio","T08":"Avalanche","T09":"Caminho intransit√°vel","T10":"Abrigo dispon√≠vel","T11":"Afogamento / resgate aqu√°tico necess√°rio","T12":"Contamina√ß√£o da √°gua","T13":"Terramoto","T14":"Fuga de g√°s","T15":"Derrame qu√≠mico / HAZMAT","T16":"Acidente de via√ß√£o","T17":"Ve√≠culo em chamas","W01":"Tempestade a aproximar-se","W02":"Visibilidade nula","W03":"Frio extremo","W04":"Calor extremo","W05":"Qualidade do ar perigosa","W06":"Alerta de tsunami / mar√© de tempestade","S01":"Precisa de √°gua","S02":"Precisa de comida","S03":"Precisa de medica√ß√£o","S04":"Precisa de bateria / energia","S05":"Precisa de combust√≠vel","S06":"Precisa de ferramentas / equipamento","P01":"Retido / preso","P02":"A evacuar em dire√ß√£o a","P03":"Abrigado no local","P04":"A caminho de","P05":"Nas coordenadas GPS","P06":"Perdido","P07":"Grupo separado","C01":"Enviar resgate","C02":"Precisa de transporte","C03":"Retransmitir esta mensagem","C04":"Confirmar rece√ß√£o","C05":"Quantas pessoas","C06":"Qual √© o estado","C07":"Consegue contactar","C08":"Encontro em","R01":"Recebido","R02":"Ajuda a caminho","R03":"Chegada em [minutos]","R04":"N√£o √© poss√≠vel ajudar","R05":"Redirecionando para","R06":"Aguarde","R07":"Situa√ß√£o resolvida / tudo limpo","D01":"Isto √© um simulacro","D02":"Isto √© um teste","D03":"Fim do simulacro","D04":"Ignorar anterior ‚Äî enviado por erro","L01":"Cerveja / bebidas","L02":"Caf√©","L03":"Comida pronta","L04":"Cume alcan√ßado","L05":"No acampamento","L06":"Atrasado","L07":"Bom sinal aqui","L08":"Oportunidade de foto","L09":"Vida selvagem avistada","L10":"Vista bonita","L11":"Condi√ß√µes do trilho boas","L12":"Condi√ß√µes do trilho m√°s","L13":"Preciso de uma pausa","L14":"A caminho de casa","L15":"Bom dia / check-in","L16":"Boa noite","L17":"Obrigado","L18":"A divertir-me","L19":"Festival / evento aqui","L20":"Teste de n√≥ / ping","X01":"Pessoa perigosa / amea√ßa pr√≥xima","X02":"√Årea insegura ‚Äî evitar","X03":"Tiros / explos√µes ouvidos","X04":"Agita√ß√£o civil / perigo de multid√£o","X05":"Roubo / pilhagem reportados","X06":"Autoridades / servi√ßos de emerg√™ncia presentes","X07":"Posto de controlo / estrada cortada (autoridade)","H01":"√Ågua dispon√≠vel","H02":"Comida dispon√≠vel","H03":"Material m√©dico dispon√≠vel","H04":"Energia / carregamento dispon√≠vel","H05":"Combust√≠vel dispon√≠vel","H06":"Ferramentas / equipamento dispon√≠vel","H07":"Abrigo / espa√ßo para [N]pax","H08":"Transporte / ve√≠culo dispon√≠vel"},"ui":{"send":"Enviar","cancel":"Cancelar","attach_gps":"Anexar GPS","add_count":"Adicionar contagem","preview":"Pr√©-visualizar","copy":"Copiar","paste_decode":"Colar e descodificar","severity_select":"Selecionar severidade","category_select":"Selecionar categoria","code_select":"Selecionar c√≥digos","freetext_placeholder":"Texto opcional...","parse_failed":"Mensagem MECP ‚Äî n√£o foi poss√≠vel analisar","unknown_code":"C√≥digo desconhecido","message_too_long":"Mensagem excede 200 bytes","not_connected":"Nenhum dispositivo ligado","connecting":"A ligar...","connected_to":"Ligado a","scan_devices":"Procurar dispositivos","compose":"Compor","decode":"Descodificar","reference_card":"Cart√£o de Refer√™ncia","history":"Hist√≥rico","clear_history":"Limpar hist√≥rico","export_history":"Exportar hist√≥rico","drill_banner":"SIMULACRO","untranslated_warning":"Este texto n√£o est√° traduzido","bytes_remaining":"bytes restantes","confirm_mayday":"Confirmar MAYDAY ‚Äî mantenha premido para enviar","message_copied":"Mensagem copiada","gps_acquiring":"A obter GPS...","add_reference_tag":"Adicionar etiqueta de incidente"},"deprecations":{}},
"sk": {"language":"sk","language_name":"Slovenƒçina","language_name_en":"Slovak","language_name_latin":"Slovenƒçina","flag_emoji":"üá∏üá∞","text_direction":"ltr","severities":{"0":{"local":"MAYDAY","label":"MAYDAY / Ohrozenie ≈æivota"},"1":{"local":"URGENT","label":"URGENT / ƒåasovo kritick√©"},"2":{"local":"BEZPEƒåNOS≈§","label":"SAFETY / D√¥le≈æit√©"},"3":{"local":"BE≈ΩN√â","label":"ROUTINE / Be≈æn√©"}},"categories":{"M":{"name":"Zdravotn√©","icon":"medical"},"T":{"name":"Ter√©n / Infra≈°trukt√∫ra","icon":"terrain"},"W":{"name":"Poƒçasie / Prostredie","icon":"weather"},"S":{"name":"Z√°soby","icon":"supplies"},"P":{"name":"Poz√≠cia / Pohyb","icon":"position"},"C":{"name":"Koordin√°cia","icon":"coordination"},"R":{"name":"Odpoveƒè","icon":"response"},"D":{"name":"Cviƒçenie / Test","icon":"drill"},"L":{"name":"≈Ωivot / Voƒæn√Ω ƒças","icon":"leisure"},"X":{"name":"Hrozba / Bezpeƒçnos≈•","icon":"threat"},"H":{"name":"M√°m / Pon√∫kam zdroje","icon":"resources"}},"codes":{"M01":"Zranenie","M02":"Osoba v bezvedom√≠","M03":"≈§a≈ækosti s d√Ωchan√≠m","M04":"Srdcov√© probl√©my","M05":"Podchladenie","M06":"Siln√© krv√°canie","M07":"Zlomenina / imobiln√Ω","M08":"Pop√°leniny","M09":"Viacero zranen√Ωch","M10":"M≈ïtvy","M11":"Uhryznutie / bodnutie zviera≈•om","M12":"Alergick√° reakcia / anafylaxia","M13":"Otrava / toxick√° expoz√≠cia","M14":"Osoby n√°jden√© na≈æive","M15":"Oblas≈• prehƒæadan√°, ≈æiadne obete","T01":"Cesta zablokovan√°","T02":"Zniƒçen√Ω most","T03":"Zr√∫ten√° budova","T04":"Z√°plavy","T05":"Zosuv p√¥dy","T06":"V√Ωpadok elektriny","T07":"Po≈æiar","T08":"Lav√≠na","T09":"Chodn√≠k nepriechodn√Ω","T10":"√ökryt k dispoz√≠cii","T11":"Topenie sa / potrebn√° z√°chrana z vody","T12":"Kontamin√°cia vody","T13":"Zemetrasenie","T14":"√önik plynu","T15":"Chemick√Ω √∫nik / nebezpeƒçn√© l√°tky","T16":"Dopravn√° nehoda","T17":"Po≈æiar vozidla","W01":"Bl√≠≈æi sa b√∫rka","W02":"Nulov√° viditeƒænos≈•","W03":"Extr√©mny mr√°z","W04":"Extr√©mne teplo","W05":"Nebezpeƒçn√° kvalita vzduchu","W06":"Varovanie pred cunami / pr√≠livovou vlnou","S01":"Potreba vody","S02":"Potreba jedla","S03":"Potreba liekov","S04":"Potreba bat√©rie / energie","S05":"Potreba paliva","S06":"Potreba n√°radia","P01":"Uviaznut√Ω","P02":"Evaku√°cia smerom k","P03":"Ukryt√Ω na mieste","P04":"Na ceste k","P05":"Na GPS s√∫radniciach","P06":"Straten√Ω","P07":"Skupina rozdelen√°","C01":"Po≈°lite z√°chranu","C02":"Potreba transportu","C03":"Prepo≈°li t√∫to spr√°vu","C04":"Potvrƒète prijatie","C05":"Koƒæko ƒæud√≠","C06":"Ak√Ω je stav","C07":"Dok√°≈æete dosiahnu≈•","C08":"Stretnutie na","R01":"Potvrden√©","R02":"Pomoc prich√°dza","R03":"Pr√≠chod o [min√∫ty]","R04":"Nem√¥≈æem pom√¥c≈•","R05":"Presmerujem na","R06":"ƒåakajte","R07":"Situ√°cia vyrie≈°en√° / v≈°etko v poriadku","D01":"Toto je cviƒçenie","D02":"Toto je test","D03":"Koniec cviƒçenia","D04":"Ignorujte predo≈°l√© ‚Äî odoslan√© omylom","L01":"Pivo / n√°poje","L02":"K√°va","L03":"Jedlo hotov√©","L04":"Na vrchole","L05":"V t√°bore","L06":"Me≈°k√°m","L07":"Dobr√Ω sign√°l tu","L08":"Miesto na fotku","L09":"Zver spozorovan√°","L10":"Kr√°sny v√Ωhƒæad","L11":"Dobr√© podmienky na trase","L12":"Zl√© podmienky na trase","L13":"Potrebujem pauzu","L14":"Idem domov","L15":"Dobr√© r√°no / prihl√°senie","L16":"Dobr√∫ noc","L17":"ƒéakujem","L18":"Z√°bava","L19":"Festival / udalos≈• tu","L20":"Test uzla / ping","X01":"Nebezpeƒçn√° osoba / hrozba v bl√≠zkosti","X02":"Oblas≈• nebezpeƒçn√° ‚Äî vyhnite sa","X03":"Poƒçu≈• streƒæbu / v√Ωbuchy","X04":"Obƒçianske nepokoje / nebezpeƒçn√Ω dav","X05":"Hl√°sen√° kr√°de≈æ / rabovanie","X06":"Pr√≠tomn√© org√°ny / z√°chrann√© slu≈æby","X07":"Kontroln√Ω bod / uz√°vierka cesty (√∫rady)","H01":"K dispoz√≠cii voda","H02":"K dispoz√≠cii jedlo","H03":"K dispoz√≠cii zdravotn√≠cky materi√°l","H04":"K dispoz√≠cii energia / nab√≠janie","H05":"K dispoz√≠cii palivo","H06":"K dispoz√≠cii n√°radie","H07":"K dispoz√≠cii √∫kryt / miesto pre [N] os√¥b","H08":"K dispoz√≠cii doprava / vozidlo"},"ui":{"send":"Odosla≈•","cancel":"Zru≈°i≈•","attach_gps":"Prilo≈æi≈• GPS","add_count":"Prida≈• poƒçet","preview":"N√°hƒæad","copy":"Kop√≠rova≈•","paste_decode":"Vlo≈æi≈• a dek√≥dova≈•","severity_select":"Vyberte z√°va≈ænos≈•","category_select":"Vyberte kateg√≥riu","code_select":"Vyberte k√≥dy","freetext_placeholder":"Voliteƒæn√Ω text...","parse_failed":"MECP spr√°va ‚Äî nepodarilo sa √∫plne spracova≈•","unknown_code":"Nezn√°my k√≥d","message_too_long":"Spr√°va presahuje 200 bajtov","not_connected":"≈Ωiadne pripojen√© zariadenie","connecting":"Prip√°janie...","connected_to":"Pripojen√© k","scan_devices":"Hƒæada≈• zariadenia","compose":"Vytvori≈• spr√°vu","decode":"Dek√≥dova≈•","reference_card":"Referenƒçn√° karta","history":"Hist√≥ria","clear_history":"Vymaza≈• hist√≥riu","export_history":"Exportova≈• hist√≥riu","drill_banner":"CVIƒåENIE","untranslated_warning":"Tento text nie je prelo≈æen√Ω","bytes_remaining":"bajtov zost√°va","confirm_mayday":"Potvrƒète MAYDAY ‚Äî podr≈æte na odoslanie","message_copied":"Spr√°va skop√≠rovan√°","gps_acquiring":"Z√≠skavanie GPS...","add_reference_tag":"Prida≈• znaƒçku incidentu"},"deprecations":{}},
"sv": {"language":"sv","language_name":"Svenska","language_name_en":"Swedish","language_name_latin":"Svenska","flag_emoji":"üá∏üá™","text_direction":"ltr","severities":{"0":{"local":"N√ñDL√ÑGE","label":"MAYDAY / Livshotande"},"1":{"local":"BR√ÖDSKANDE","label":"URGENT / Tidskritiskt"},"2":{"local":"S√ÑKERHET","label":"SAFETY / Viktigt"},"3":{"local":"RUTIN","label":"ROUTINE / Normalt"}},"categories":{"M":{"name":"Medicinskt","icon":"medical"},"T":{"name":"Terr√§ng / Infrastruktur","icon":"terrain"},"W":{"name":"V√§der / Milj√∂","icon":"weather"},"S":{"name":"F√∂rn√∂denheter","icon":"supplies"},"P":{"name":"Position / R√∂relse","icon":"position"},"C":{"name":"Samordning","icon":"coordination"},"R":{"name":"Respons","icon":"response"},"D":{"name":"√ñvning / Test","icon":"drill"},"L":{"name":"Vardag / Fritid","icon":"leisure"},"X":{"name":"Hot / S√§kerhet","icon":"threat"},"H":{"name":"Har / Erbjuder resurser","icon":"resources"}},"codes":{"M01":"Skada","M02":"Medvetsl√∂s person","M03":"Andningssv√•righeter","M04":"Hj√§rth√§ndelse","M05":"Hypotermi","M06":"Sv√•r bl√∂dning","M07":"Fraktur / or√∂rlig","M08":"Br√§nnskador","M09":"Flera skadade","M10":"Avliden","M11":"Djurbett / sting","M12":"Allergisk reaktion / anafylaxi","M13":"F√∂rgiftning / toxisk exponering","M14":"Personer lokaliserade vid liv","M15":"Omr√•de s√∂kt, inga offer funna","T01":"V√§g blockerad","T02":"Bro utslagen","T03":"Byggnad raserad","T04":"√ñversv√§mning","T05":"Jordskred","T06":"Str√∂mavbrott","T07":"Brand","T08":"Lavin","T09":"V√§g oframkomlig","T10":"Skydd tillg√§ngligt","T11":"Drunkning / vattenr√§ddning beh√∂vs","T12":"Vattenf√∂rorening","T13":"Jordb√§vning","T14":"Gasl√§cka","T15":"Kemikalieutsl√§pp / HAZMAT","T16":"Fordonsolycka","T17":"Fordonsbrand","W01":"Storm p√• v√§g","W02":"Noll sikt","W03":"Extrem kyla","W04":"Extrem v√§rme","W05":"Farlig luftkvalitet","W06":"Tsunami / stormflod varning","S01":"Beh√∂ver vatten","S02":"Beh√∂ver mat","S03":"Beh√∂ver medicin","S04":"Beh√∂ver batteri / str√∂m","S05":"Beh√∂ver br√§nsle","S06":"Beh√∂ver verktyg / utrustning","P01":"Strandsatt / fast","P02":"Evakuerar mot","P03":"Skyddar p√• plats","P04":"P√• v√§g till","P05":"Vid GPS-koordinater","P06":"Vilse","P07":"Grupp separerad","C01":"Skicka r√§ddning","C02":"Beh√∂ver transport","C03":"Vidarebefordra detta meddelande","C04":"Bekr√§fta mottaget","C05":"Hur m√•nga personer","C06":"Vad √§r status","C07":"Kan ni n√•","C08":"M√∂tesplats vid","R01":"Bekr√§ftat","R02":"Hj√§lp p√• v√§g","R03":"Ber√§knad tid [minuter]","R04":"Kan inte assistera","R05":"Omdirigerar till","R06":"V√§nta","R07":"Situation l√∂st / faran √∂ver","D01":"Detta √§r en √∂vning","D02":"Detta √§r ett test","D03":"Slut p√• √∂vning","D04":"Ignorera f√∂reg√•ende ‚Äî skickat av misstag","L01":"√ñl / drycker","L02":"Kaffe","L03":"Mat klar","L04":"Toppen n√•dd","L05":"Vid l√§gret","L06":"F√∂rsenad","L07":"Bra signal h√§r","L08":"Fototillf√§lle","L09":"Vilda djur observerade","L10":"Vacker utsikt","L11":"Bra ledf√∂rh√•llanden","L12":"D√•liga ledf√∂rh√•llanden","L13":"Beh√∂ver paus","L14":"P√• v√§g hem","L15":"God morgon / incheckning","L16":"God natt","L17":"Tack","L18":"Har kul","L19":"Festival / evenemang h√§r","L20":"Nodtest / ping","X01":"Farlig person / hot i n√§rheten","X02":"Omr√•de os√§kert ‚Äî undvik","X03":"Skottlossning / explosioner h√∂rda","X04":"Civil oro / folksamlingsfara","X05":"St√∂ld / plundring rapporterad","X06":"Myndigheter / r√§ddningstj√§nst p√• plats","X07":"Kontrollpunkt / v√§gavst√§ngning (myndighet)","H01":"Har vatten tillg√§ngligt","H02":"Har mat tillg√§nglig","H03":"Har sjukv√•rdsmaterial","H04":"Har str√∂m / laddning","H05":"Har br√§nsle","H06":"Har verktyg / utrustning","H07":"Har skydd / plats f√∂r [N]pers","H08":"Har transport / fordon"},"ui":{"send":"Skicka","cancel":"Avbryt","attach_gps":"Bifoga GPS","add_count":"L√§gg till antal","preview":"F√∂rhandsgranska","copy":"Kopiera","paste_decode":"Klistra in & avkoda","severity_select":"V√§lj allvarlighetsgrad","category_select":"V√§lj kategori","code_select":"V√§lj koder","freetext_placeholder":"Valfri text...","parse_failed":"MECP-meddelande ‚Äî kunde inte tolkas helt","unknown_code":"Ok√§nd kod","message_too_long":"Meddelandet √∂verstiger 200 bytes","not_connected":"Ingen enhet ansluten","connecting":"Ansluter...","connected_to":"Ansluten till","scan_devices":"S√∂k efter enheter","compose":"Skriv","decode":"Avkoda","reference_card":"Referenskort","history":"Historik","clear_history":"Rensa historik","export_history":"Exportera historik","drill_banner":"√ñVNING","untranslated_warning":"Denna text √§r inte √∂versatt","bytes_remaining":"bytes kvar","confirm_mayday":"Bekr√§fta N√ñDL√ÑGE ‚Äî h√•ll f√∂r att skicka","message_copied":"Meddelande kopierat","gps_acquiring":"H√§mtar GPS...","add_reference_tag":"L√§gg till incidenttagg"},"deprecations":{}},
"tr": {"language":"tr","language_name":"T√ºrk√ße","language_name_en":"Turkish","language_name_latin":"T√ºrk√ße","flag_emoji":"üáπüá∑","text_direction":"ltr","severities":{"0":{"local":"ƒ∞MDAT","label":"MAYDAY / Hayati tehlike"},"1":{"local":"ACƒ∞L","label":"URGENT / Zaman kritik"},"2":{"local":"G√úVENLƒ∞K","label":"SAFETY / √ñnemli"},"3":{"local":"RUTƒ∞N","label":"ROUTINE / Normal"}},"categories":{"M":{"name":"Tƒ±bbi","icon":"medical"},"T":{"name":"Arazi / Altyapƒ±","icon":"terrain"},"W":{"name":"Hava / √áevre","icon":"weather"},"S":{"name":"Malzeme","icon":"supplies"},"P":{"name":"Konum / Hareket","icon":"position"},"C":{"name":"Koordinasyon","icon":"coordination"},"R":{"name":"Yanƒ±t","icon":"response"},"D":{"name":"Tatbikat / Test","icon":"drill"},"L":{"name":"G√ºnl√ºk / Bo≈ü zaman","icon":"leisure"},"X":{"name":"Tehdit / G√ºvenlik","icon":"threat"},"H":{"name":"Mevcut / Kaynak sunma","icon":"resources"}},"codes":{"M01":"Yaralanma","M02":"Bilin√ßsiz ki≈üi","M03":"Solunum g√º√ßl√ºƒü√º","M04":"Kalp krizi","M05":"Hipotermi","M06":"≈ûiddetli kanama","M07":"Kƒ±rƒ±k / hareket edemiyor","M08":"Yanƒ±k","M09":"√áok sayƒ±da yaralƒ±","M10":"√ñl√ºm","M11":"Hayvan ƒ±sƒ±rmasƒ± / sokmasƒ±","M12":"Alerjik reaksiyon / anafilaksi","M13":"Zehirlenme / toksik maruziyet","M14":"Ki≈üiler canlƒ± bulundu","M15":"Alan arandƒ±, kurban bulunamadƒ±","T01":"Yol kapalƒ±","T02":"K√∂pr√º yƒ±kƒ±k","T03":"Bina √ß√∂km√º≈ü","T04":"Sel","T05":"Heyelan","T06":"Elektrik kesintisi","T07":"Yangƒ±n","T08":"√áƒ±ƒü","T09":"Yol ge√ßilmez","T10":"Barƒ±nak mevcut","T11":"Boƒüulma / su kurtarma gerekli","T12":"Su kirliliƒüi","T13":"Deprem","T14":"Gaz sƒ±zƒ±ntƒ±sƒ±","T15":"Kimyasal sƒ±zƒ±ntƒ± / HAZMAT","T16":"Ara√ß kazasƒ±","T17":"Ara√ß yangƒ±nƒ±","W01":"Fƒ±rtƒ±na yakla≈üƒ±yor","W02":"G√∂r√º≈ü sƒ±fƒ±r","W03":"A≈üƒ±rƒ± soƒüuk","W04":"A≈üƒ±rƒ± sƒ±cak","W05":"Hava kalitesi tehlikeli","W06":"Tsunami / gelgit dalgasƒ± uyarƒ±sƒ±","S01":"Su gerekli","S02":"Gƒ±da gerekli","S03":"ƒ∞la√ß gerekli","S04":"Pil / g√º√ß gerekli","S05":"Yakƒ±t gerekli","S06":"Alet / ekipman gerekli","P01":"Mahsur / sƒ±kƒ±≈ümƒ±≈ü","P02":"Tahliye ediliyor, y√∂n:","P03":"Yerinde sƒ±ƒüƒ±nƒ±yor","P04":"Yolda, hedef:","P05":"GPS koordinatlarƒ±nda","P06":"Kayƒ±p","P07":"Grup daƒüƒ±ldƒ±","C01":"Kurtarma g√∂nderin","C02":"Nakil aracƒ± gerekli","C03":"Bu mesajƒ± iletin","C04":"Alƒ±ndƒ±ƒüƒ±nƒ± onaylayƒ±n","C05":"Ka√ß ki≈üi","C06":"Durum nedir","C07":"Ula≈üabilir misiniz","C08":"Bulu≈üma noktasƒ±:","R01":"Anla≈üƒ±ldƒ±","R02":"Yardƒ±m geliyor","R03":"Tahmini varƒ±≈ü [dakika]","R04":"Yardƒ±m edilemiyor","R05":"Y√∂nlendiriliyor:","R06":"Bekleyin","R07":"Durum √ß√∂z√ºld√º / tehlike ge√ßti","D01":"Bu bir tatbikattƒ±r","D02":"Bu bir testtir","D03":"Tatbikat sonu","D04":"√ñncekini yok sayƒ±n ‚Äî yanlƒ±≈ülƒ±kla g√∂nderildi","L01":"Bira / i√ßecekler","L02":"Kahve","L03":"Yemek hazƒ±r","L04":"Zirveye ula≈üƒ±ldƒ±","L05":"Kampta","L06":"Gecikiyorum","L07":"Burada iyi sinyal","L08":"Fotoƒüraf fƒ±rsatƒ±","L09":"Yaban hayatƒ± g√∂r√ºld√º","L10":"G√ºzel manzara","L11":"Patika durumu iyi","L12":"Patika durumu k√∂t√º","L13":"Molaya ihtiyacƒ±m var","L14":"Eve d√∂n√ºyorum","L15":"G√ºnaydƒ±n / giri≈ü","L16":"ƒ∞yi geceler","L17":"Te≈üekk√ºrler","L18":"Eƒüleniyorum","L19":"Festival / etkinlik burada","L20":"D√ºƒü√ºm testi / ping","X01":"Tehlikeli ki≈üi / yakƒ±nda tehdit","X02":"Alan g√ºvensiz ‚Äî ka√ßƒ±nƒ±n","X03":"Silah sesi / patlama duyuldu","X04":"Toplumsal karga≈üa / kalabalƒ±k tehlikesi","X05":"Hƒ±rsƒ±zlƒ±k / yaƒüma bildirildi","X06":"Yetkililer / acil servisler mevcut","X07":"Kontrol noktasƒ± / yol kapatma (yetkili)","H01":"Su mevcut","H02":"Gƒ±da mevcut","H03":"Tƒ±bbi malzeme mevcut","H04":"G√º√ß / ≈üarj mevcut","H05":"Yakƒ±t mevcut","H06":"Alet / ekipman mevcut","H07":"Barƒ±nak / [N] ki≈üilik yer mevcut","H08":"Nakil aracƒ± / ara√ß mevcut"},"ui":{"send":"G√∂nder","cancel":"ƒ∞ptal","attach_gps":"GPS ekle","add_count":"Sayƒ± ekle","preview":"√ñnizleme","copy":"Kopyala","paste_decode":"Yapƒ±≈ütƒ±r ve √ß√∂z","severity_select":"√ñnem derecesi se√ßin","category_select":"Kategori se√ßin","code_select":"Kodlarƒ± se√ßin","freetext_placeholder":"ƒ∞steƒüe baƒülƒ± metin...","parse_failed":"MECP mesajƒ± ‚Äî tam olarak √ß√∂z√ºmlenemedi","unknown_code":"Bilinmeyen kod","message_too_long":"Mesaj 200 baytƒ± a≈üƒ±yor","not_connected":"Cihaz baƒülƒ± deƒüil","connecting":"Baƒülanƒ±yor...","connected_to":"Baƒülƒ±:","scan_devices":"Cihaz tara","compose":"Olu≈ütur","decode":"√á√∂z","reference_card":"Referans Kartƒ±","history":"Ge√ßmi≈ü","clear_history":"Ge√ßmi≈üi temizle","export_history":"Ge√ßmi≈üi dƒ±≈üa aktar","drill_banner":"TATBƒ∞KAT","untranslated_warning":"Bu metin √ßevrilmemi≈ütir","bytes_remaining":"bayt kaldƒ±","confirm_mayday":"ƒ∞MDAT onaylayƒ±n ‚Äî g√∂ndermek i√ßin basƒ±lƒ± tutun","message_copied":"Mesaj kopyalandƒ±","gps_acquiring":"GPS alƒ±nƒ±yor...","add_reference_tag":"Olay etiketi ekle"},"deprecations":{}},
"zh-tw": {"language":"zh-tw","language_name":"ÁπÅÈ´î‰∏≠Êñá","language_name_en":"Traditional Chinese","language_name_latin":"Fantizi Zhongwen","flag_emoji":"üáπüáº","text_direction":"ltr","severities":{"0":{"local":"Ê±ÇÊïë","label":"MAYDAY / Âç±ÂèäÁîüÂëΩ"},"1":{"local":"Á∑äÊÄ•","label":"URGENT / ÊôÇÈñìÁ∑äËø´"},"2":{"local":"ÂÆâÂÖ®","label":"SAFETY / ÈáçË¶Å"},"3":{"local":"‰∏ÄËà¨","label":"ROUTINE / Ê≠£Â∏∏"}},"categories":{"M":{"name":"ÈÜ´ÁôÇ","icon":"medical"},"T":{"name":"Âú∞ÂΩ¢ / Âü∫Á§éË®≠ÊñΩ","icon":"terrain"},"W":{"name":"Â§©Ê∞£ / Áí∞Â¢É","icon":"weather"},"S":{"name":"Áâ©Ë≥á","icon":"supplies"},"P":{"name":"‰ΩçÁΩÆ / ÁßªÂãï","icon":"position"},"C":{"name":"ÂçîË™ø","icon":"coordination"},"R":{"name":"ÂõûÊáâ","icon":"response"},"D":{"name":"ÊºîÁøí / Ê∏¨Ë©¶","icon":"drill"},"L":{"name":"ÁîüÊ¥ª / ‰ºëÈñí","icon":"leisure"},"X":{"name":"Â®ÅËÑÖ / Ê≤ªÂÆâ","icon":"threat"},"H":{"name":"ÂèØÊèê‰æõË≥áÊ∫ê","icon":"resources"}},"codes":{"M01":"ÂèóÂÇ∑","M02":"Â§±ÂéªÊÑèË≠òËÄÖ","M03":"ÂëºÂê∏Âõ∞Èõ£","M04":"ÂøÉËáü‰∫ã‰ª∂","M05":"Â§±Ê∫´","M06":"Âö¥ÈáçÂá∫Ë°Ä","M07":"È™®Êäò / ÁÑ°Ê≥ïÁßªÂãï","M08":"ÁáíÂÇ∑","M09":"Â§ßÈáèÂÇ∑ÊÇ£","M10":"Ê≠ª‰∫°","M11":"ÂãïÁâ©Âí¨ÂÇ∑ / Ëû´ÂÇ∑","M12":"ÈÅéÊïèÂèçÊáâ / ÈÅéÊïèÊÄß‰ºëÂÖã","M13":"‰∏≠ÊØí / ÊØíÊÄßÊö¥Èú≤","M14":"ÁôºÁèæÁîüÈÇÑËÄÖ","M15":"ÊêúÁ¥¢ÂÆåÁï¢ÔºåÊú™ÁôºÁèæÂÇ∑‰∫°ËÄÖ","T01":"ÈÅìË∑ØÂ∞ÅÈéñ","T02":"Ê©ãÊ¢ÅÊØÄÊêç","T03":"Âª∫ÁØâÂÄíÂ°å","T04":"Ê¥™Ê∞¥","T05":"Â±±Â¥©","T06":"ÂÅúÈõª","T07":"ÁÅ´ÁÅΩ","T08":"Èõ™Â¥©","T09":"Ë∑ØÂæëÁÑ°Ê≥ïÈÄöË°å","T10":"ÊúâÈÅøÈõ£ÊâÄ","T11":"Ê∫∫Ê∞¥ / ÈúÄÊ∞¥ÂüüÊïëÊè¥","T12":"Ê∞¥Ê∫êÊ±°Êüì","T13":"Âú∞Èúá","T14":"Áì¶ÊñØÊ¥©Êºè","T15":"ÂåñÂ≠∏ÂìÅÊ¥©Êºè / Âç±Èö™Áâ©Ë≥™","T16":"ËªäÁ¶ç","T17":"ËªäËºõËµ∑ÁÅ´","W01":"Êö¥È¢®Èõ®Êé•Ëøë‰∏≠","W02":"ËÉΩË¶ãÂ∫¶ÁÇ∫Èõ∂","W03":"Ê•µÂ∫¶Âö¥ÂØí","W04":"Ê•µÂ∫¶ÈÖ∑ÁÜ±","W05":"Á©∫Ê∞£ÂìÅË≥™Âç±Èö™","W06":"Êµ∑ÂòØ / Êö¥ÊΩÆË≠¶Â†±","S01":"ÈúÄË¶ÅÈ£≤Ê∞¥","S02":"ÈúÄË¶ÅÈ£üÁâ©","S03":"ÈúÄË¶ÅËó•Áâ©","S04":"ÈúÄË¶ÅÈõªÊ±† / ÈõªÊ∫ê","S05":"ÈúÄË¶ÅÁáÉÊñô","S06":"ÈúÄË¶ÅÂ∑•ÂÖ∑ / Ë£ùÂÇô","P01":"ÂèóÂõ∞ / ÂãïÂΩà‰∏çÂæó","P02":"Êí§Èõ¢‰∏≠ÔºåÊñπÂêëÔºö","P03":"Â∞±Âú∞ÈÅøÈõ£‰∏≠","P04":"ÂâçÂæÄÈÄî‰∏≠","P05":"‰ΩçÊñºGPSÂ∫ßÊ®ô","P06":"Ëø∑Ë∑Ø","P07":"Èöä‰ºçÂ§±Êï£","C01":"Ë´ãÊ¥æÊïëÊè¥","C02":"ÈúÄË¶ÅÈÅãËº∏Â∑•ÂÖ∑","C03":"Ë´ãËΩâÁôºÊ≠§Ë®äÊÅØ","C04":"Á¢∫Ë™çÊî∂Âà∞","C05":"ÊúâÂ§öÂ∞ë‰∫∫","C06":"ÁõÆÂâçÁãÄÊ≥ÅÂ¶Ç‰Ωï","C07":"ËÉΩÂê¶ËÅØÁπ´Âà∞","C08":"ÊúÉÂêàÂú∞ÈªûÔºö","R01":"Êî∂Âà∞","R02":"ÊïëÊè¥Â∑≤Âá∫Áôº","R03":"È†êË®àÂà∞ÈÅî [ÂàÜÈêò]","R04":"ÁÑ°Ê≥ïÂçîÂä©","R05":"ËΩâ‰ªãËá≥Ôºö","R06":"ÂæÖÂëΩ","R07":"ÁãÄÊ≥ÅËß£Èô§ / ÂÆâÂÖ®Á¢∫Ë™ç","D01":"ÈÄôÊòØÊºîÁøí","D02":"ÈÄôÊòØÊ∏¨Ë©¶","D03":"ÊºîÁøíÁµêÊùü","D04":"Ë´ãÂøΩÁï•Ââç‰∏ÄÂâáË®äÊÅØ ‚Äî Ë™§Áôº","L01":"Âï§ÈÖí / È£≤Êñô","L02":"ÂíñÂï°","L03":"È§êÈªûÂÇôÂ¶•","L04":"ÊäµÈÅîÂ±±È†Ç","L05":"Âú®ÁáüÂú∞","L06":"ÊúÉÈÅ≤Âà∞","L07":"ÈÄôË£°Ë®äËôüÂ•Ω","L08":"ÊãçÁÖßÂ•ΩÂú∞Êñπ","L09":"ÁôºÁèæÈáéÁîüÂãïÁâ©","L10":"ÁæéÊôØ","L11":"Ê≠•ÈÅìÁãÄÊ≥ÅËâØÂ•Ω","L12":"Ê≠•ÈÅìÁãÄÊ≥Å‰∏ç‰Ω≥","L13":"ÈúÄË¶Å‰ºëÊÅØ","L14":"Ê∫ñÂÇôËøîÂÆ∂","L15":"Êó©ÂÆâ / Á∞ΩÂà∞","L16":"ÊôöÂÆâ","L17":"Ë¨ùË¨ù","L18":"Áé©ÂæóÈñãÂøÉ","L19":"ÈÄôË£°ÊúâÁØÄÊÖ∂ / Ê¥ªÂãï","L20":"ÁØÄÈªûÊ∏¨Ë©¶ / ping","X01":"ÈôÑËøëÊúâÂç±Èö™‰∫∫Áâ© / Â®ÅËÑÖ","X02":"ÂçÄÂüü‰∏çÂÆâÂÖ® ‚Äî Ëø¥ÈÅø","X03":"ËÅΩÂà∞ÊßçËÅ≤ / ÁàÜÁÇ∏ËÅ≤","X04":"Á§æÊúÉÂãï‰∫Ç / Áæ§ÁúæÂç±Èö™","X05":"ÈÄöÂ†±Á´äÁõú / Êê∂Âä´","X06":"Áï∂Â±Ä / Á∑äÊÄ•ÊúçÂãôÂú®Â†¥","X07":"Ê™¢Êü•Âì® / ÈÅìË∑ØÂ∞ÅÈéñÔºàÁï∂Â±ÄÔºâ","H01":"ÊúâÈ£≤Ê∞¥ÂèØÊèê‰æõ","H02":"ÊúâÈ£üÁâ©ÂèØÊèê‰æõ","H03":"ÊúâÈÜ´ÁôÇÁâ©Ë≥á","H04":"ÊúâÈõªÊ∫ê / ÂÖÖÈõªË®≠ÂÇô","H05":"ÊúâÁáÉÊñô","H06":"ÊúâÂ∑•ÂÖ∑ / Ë£ùÂÇô","H07":"ÊúâÈÅøÈõ£ÊâÄ / ÂèØÂÆπÁ¥ç[N]‰∫∫","H08":"ÊúâÈÅãËº∏Â∑•ÂÖ∑ / ËªäËºõ"},"ui":{"send":"ÂÇ≥ÈÄÅ","cancel":"ÂèñÊ∂à","attach_gps":"ÈôÑÂä†GPS","add_count":"Êñ∞Â¢û‰∫∫Êï∏","preview":"È†êË¶Ω","copy":"Ë§áË£Ω","paste_decode":"Ë≤º‰∏ä‰∏¶Ëß£Á¢º","severity_select":"ÈÅ∏ÊìáÂö¥ÈáçÁ®ãÂ∫¶","category_select":"ÈÅ∏ÊìáÈ°ûÂà•","code_select":"ÈÅ∏Êìá‰ª£Á¢º","freetext_placeholder":"ÈÅ∏Â°´ÊñáÂ≠ó...","parse_failed":"MECPË®äÊÅØ ‚Äî ÁÑ°Ê≥ïÂÆåÂÖ®Ëß£Êûê","unknown_code":"Êú™Áü•‰ª£Á¢º","message_too_long":"Ë®äÊÅØË∂ÖÈÅé200‰ΩçÂÖÉÁµÑ","not_connected":"Êú™ÈÄ£Êé•Ë£ùÁΩÆ","connecting":"ÈÄ£Á∑ö‰∏≠...","connected_to":"Â∑≤ÈÄ£Êé•Ëá≥","scan_devices":"ÊéÉÊèèË£ùÁΩÆ","compose":"Êí∞ÂØ´","decode":"Ëß£Á¢º","reference_card":"ÂèÉËÄÉÂç°","history":"Ê≠∑Âè≤Á¥ÄÈåÑ","clear_history":"Ê∏ÖÈô§Á¥ÄÈåÑ","export_history":"ÂåØÂá∫Á¥ÄÈåÑ","drill_banner":"ÊºîÁøí","untranslated_warning":"Ê≠§ÊñáÂ≠óÊú™ÁøªË≠Ø","bytes_remaining":"‰ΩçÂÖÉÁµÑÂâ©È§ò","confirm_mayday":"Á¢∫Ë™çÊ±ÇÊïë ‚Äî Èï∑ÊåâÂÇ≥ÈÄÅ","message_copied":"Ë®äÊÅØÂ∑≤Ë§áË£Ω","gps_acquiring":"Ê≠£Âú®ÂèñÂæóGPS...","add_reference_tag":"Êñ∞Â¢û‰∫ã‰ª∂Ê®ôÁ±§"},"deprecations":{}}
};

// ====== Category icons (emoji for simplicity; real app would use SVG) ======
const CAT_ICONS = {
  M: '\u2695\ufe0f', T: '\u26a0\ufe0f', W: '\u26c8\ufe0f', S: '\ud83d\udce6',
  P: '\ud83d\udccd', C: '\ud83d\udce1', R: '\u2705', D: '\ud83d\udea7',
  L: '\u2615', X: '\ud83d\udea8', H: '\ud83e\udd1d'
};

// ====== Category ordering ======
const CAT_ORDER = ['M','T','W','S','P','C','R','D','L','X','H'];

// ====== Severity colors ======
const SEV_COLORS = { 0: '#dc2626', 1: '#ea580c', 2: '#b45309', 3: '#2563eb' };
const SEV_LABELS_EN = { 0: 'MAYDAY', 1: 'URGENT', 2: 'SAFETY', 3: 'ROUTINE' };

// ====== Code regex ======
const CODE_RE = /^[A-Z]\d{2}$/;

// ====== State ======
let currentLang = 'en';
let secondLang = 'sk';
let composeSev = null;
let composeCat = null;
let composeCodes = [];
let composeStep = 1;

// ====== Init ======
document.addEventListener('DOMContentLoaded', () => {
  const saved = localStorage.getItem('mecp_lang');
  if (saved && LANGUAGES[saved]) currentLang = saved;
  secondLang = currentLang === 'en' ? 'sk' : 'en';
  buildLangBar();
  buildSeverityGrid();
  buildCategoryGrid();
  applyLanguage();
  renderHistory();
});

// ====== Language ======
function buildLangBar() {
  const bar = document.getElementById('langBar');
  bar.innerHTML = '';
  const sel = document.createElement('select');
  sel.className = 'lang-select';
  sel.setAttribute('aria-label', 'Select language');
  const sorted = Object.entries(LANGUAGES).sort((a,b) => a[1].language_name_en.localeCompare(b[1].language_name_en));
  for (const [code, lang] of sorted) {
    const opt = document.createElement('option');
    opt.value = code;
    opt.textContent = lang.flag_emoji + ' ' + lang.language_name + ' (' + lang.language_name_en + ')';
    if (code === currentLang) opt.selected = true;
    sel.appendChild(opt);
  }
  sel.onchange = () => {
    currentLang = sel.value;
    secondLang = currentLang === 'en' ? 'sk' : 'en';
    localStorage.setItem('mecp_lang', currentLang);
    buildSeverityGrid();
    buildCategoryGrid();
    applyLanguage();
    updateLangLabel();
    if (composeStep === 3 && composeCat) buildCodeList(composeCat);
    renderRefCard();
    renderHistory();
  };
  bar.appendChild(sel);
}

function L(key) {
  return LANGUAGES[currentLang]?.ui?.[key] || LANGUAGES['en']?.ui?.[key] || key;
}

function codeDesc(code, lang) {
  return LANGUAGES[lang || currentLang]?.codes?.[code] || '';
}

function applyLanguage() {
  document.querySelectorAll('[data-ui]').forEach(el => {
    const key = el.getAttribute('data-ui');
    const val = L(key);
    if (val) el.textContent = val;
  });
  document.querySelectorAll('[data-ui-placeholder]').forEach(el => {
    const key = el.getAttribute('data-ui-placeholder');
    const val = L(key);
    if (val) el.placeholder = val;
  });
  renderRefCard();
}

// ====== Encoder ======
function getByteLength(str) {
  return new TextEncoder().encode(str).length;
}

function encodeMessage(severity, codes, freetext) {
  let msg = 'MECP/' + severity + '/' + codes.join(' ');
  if (freetext && freetext.trim()) msg += ' ' + freetext.trim();
  msg = msg.trimEnd();
  const bytes = getByteLength(msg);
  return { message: msg, byteLength: bytes, overLimit: bytes > 200 };
}

// ====== Decoder ======
function decode(input) {
  const result = {
    valid: false, severity: null, codes: [], isDrill: false,
    freetext: null, extracted: { count: null, gps: null, eta: null,
    reference: null, language: null, timestamp: null, callsign: null },
    warnings: [], raw: input
  };
  if (!input.startsWith('MECP/')) return result;
  const sevChar = input.charAt(5);
  const sevNum = parseInt(sevChar, 10);
  if (sevNum >= 0 && sevNum <= 3) result.severity = sevNum;
  else result.warnings.push('Invalid severity: "' + sevChar + '"');
  if (input.charAt(6) !== '/') result.warnings.push('Missing "/" delimiter after severity');
  const body = input.substring(7);
  if (!body || !body.trim()) {
    result.valid = result.severity !== null;
    if (result.valid) result.warnings.push('No codes present');
    return result;
  }
  const tokens = body.split(' ').filter(t => t.length > 0);
  let ftStart = -1;
  for (let i = 0; i < tokens.length; i++) {
    if (CODE_RE.test(tokens[i])) result.codes.push(tokens[i]);
    else { ftStart = i; break; }
  }
  if (ftStart >= 0) result.freetext = tokens.slice(ftStart).join(' ');
  const text = result.freetext || '';
  // Count
  const cm = text.match(/(\d+)pax/);
  if (cm) result.extracted.count = parseInt(cm[1], 10);
  // GPS
  const gm = text.match(/(-?\d+\.\d+),(-?\d+\.\d+)/);
  if (gm) {
    const lat = parseFloat(gm[1]), lon = parseFloat(gm[2]);
    if (lat >= -90 && lat <= 90 && lon >= -180 && lon <= 180)
      result.extracted.gps = { lat, lon };
  }
  // ETA
  if (result.codes.includes('R03') && result.freetext) {
    const em = result.freetext.match(/^(\d+)(?:\s|$)/);
    if (em) result.extracted.eta = parseInt(em[1], 10);
  }
  // Reference
  const rm = text.match(/#([A-Za-z0-9]{1,4})/);
  if (rm) result.extracted.reference = rm[1];
  // Language hint
  const lm = text.match(/@([a-z]{2})(?:\s|$)/);
  if (lm) result.extracted.language = lm[1];
  // Timestamp
  const tm = text.match(/@(\d{4})(?:\s|$)/);
  if (tm) {
    const hh = parseInt(tm[1].substring(0,2),10), mm = parseInt(tm[1].substring(2,4),10);
    if (hh >= 0 && hh <= 23 && mm >= 0 && mm <= 59) result.extracted.timestamp = tm[1];
  }
  // Callsign
  const cs = text.match(/~([A-Za-z0-9]{1,9})(?:\s|$)/);
  if (cs) result.extracted.callsign = cs[1];
  // Drill
  result.isDrill = result.codes.includes('D01') || result.codes.includes('D02');
  result.valid = result.severity !== null;
  return result;
}

// ====== Compose Flow ======
function buildSeverityGrid() {
  const lang = LANGUAGES[currentLang];
  const grid = document.getElementById('sevGrid');
  grid.innerHTML = '';
  for (let s = 0; s <= 3; s++) {
    const btn = document.createElement('button');
    btn.className = 'sev-btn' + (composeSev === s ? ' selected' : '');
    btn.setAttribute('data-sev', s);
    btn.innerHTML = '<span class="sev-num">' + s + '</span><span>' +
      (lang.severities[s]?.label || SEV_LABELS_EN[s]) + '</span>';
    btn.onclick = () => {
      composeSev = s;
      composeCat = null;
      composeCodes = [];
      document.getElementById('freetextInput').value = '';
      const paxEl = document.getElementById('paxInput');
      if (paxEl) paxEl.value = '';
      composeGoStep(2);
    };
    grid.appendChild(btn);
  }
}

function buildCategoryGrid() {
  const lang = LANGUAGES[currentLang];
  const grid = document.getElementById('catGrid');
  grid.innerHTML = '';
  // Check byte budget ‚Äî disable categories if near limit
  const budgetLeft = getByteBudget();
  for (const cat of CAT_ORDER) {
    const btn = document.createElement('button');
    // Mark categories that already have selected codes
    const hasCodes = composeCodes.some(c => c.charAt(0) === cat);
    btn.className = 'cat-btn' + (hasCodes ? ' selected' : '');
    btn.innerHTML = '<span class="cat-icon">' + (CAT_ICONS[cat] || cat) + '</span>' +
      '<span>' + (lang.categories[cat]?.name || cat) + '</span>';
    if (budgetLeft < 4) {
      // Not enough room for even one more code (3 chars + space)
      btn.disabled = true;
      btn.style.opacity = '0.4';
    }
    btn.onclick = () => {
      composeCat = cat;
      // Do NOT clear composeCodes ‚Äî preserve codes from other categories
      composeGoStep(3);
    };
    grid.appendChild(btn);
  }
  // Show selected codes summary
  renderCodeChips('selectedChips');
  // Show byte budget
  updateByteBudget();
}

function buildCodeList(cat) {
  const lang = LANGUAGES[currentLang];
  const list = document.getElementById('codeList');
  list.innerHTML = '';
  const codes = Object.keys(lang.codes).filter(c => c.charAt(0) === cat).sort();
  const budgetLeft = getByteBudget();
  for (const code of codes) {
    const isSelected = composeCodes.includes(code);
    const item = document.createElement('div');
    item.className = 'code-item' + (isSelected ? ' selected' : '');
    // Disable if budget exhausted and not already selected
    if (!isSelected && budgetLeft < 4) {
      item.style.opacity = '0.4';
      item.style.pointerEvents = 'none';
    }
    item.innerHTML = '<div class="code-check"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>' +
      '<span class="code-id">' + code + '</span>' +
      '<span class="code-desc">' + (lang.codes[code] || '') + '</span>';
    item.onclick = () => {
      const idx = composeCodes.indexOf(code);
      if (idx >= 0) composeCodes.splice(idx, 1);
      else composeCodes.push(code);
      buildCodeList(cat);
    };
    list.appendChild(item);
  }
  // Show selected codes from all categories
  renderCodeChips('selectedChipsCodes');
}

function addMoreCategories() {
  // Go back to category selection, keeping all codes
  composeGoStep(2);
}

function renderCodeChips(containerId) {
  const container = document.getElementById(containerId);
  if (!container) return;
  container.innerHTML = '';
  if (!composeCodes.length) return;
  const lang = LANGUAGES[currentLang];
  for (const code of composeCodes) {
    const chip = document.createElement('span');
    chip.className = 'code-chip';
    chip.innerHTML = '<strong>' + code + '</strong> ' + escHtml(lang.codes[code] || '') +
      ' <span class="chip-x" title="Remove">&times;</span>';
    chip.querySelector('.chip-x').onclick = (e) => {
      e.stopPropagation();
      composeCodes.splice(composeCodes.indexOf(code), 1);
      renderCodeChips(containerId);
      // Re-render current view
      if (composeStep === 2) buildCategoryGrid();
      if (composeStep === 3 && composeCat) buildCodeList(composeCat);
    };
    container.appendChild(chip);
  }
}

function getByteBudget() {
  // Estimate how many bytes are already used and how many remain for more codes
  // Account for: MECP/X/ prefix (7 bytes) + existing codes + auto-suffix overhead
  let used = 7; // "MECP/0/"
  if (composeCodes.length) {
    used += composeCodes.join(' ').length; // codes with spaces
  }
  // Estimate auto-suffix: GPS ~20 bytes, timestamp ~6 bytes, language ~4 bytes
  let suffixEstimate = 0;
  if (autoGps || (composeSev === 0 || composeSev === 1)) suffixEstimate += 22; // "48.6520,20.1305 "
  if (autoTimestamp || (composeSev === 0 || composeSev === 1)) suffixEstimate += 6; // "@1430 "
  if (autoLang) suffixEstimate += 4; // "@en "
  // Pax: up to 6 bytes "12pax "
  suffixEstimate += 7;
  // Add 1 for space before freetext
  if (composeCodes.length) used += 1;
  return 200 - used - suffixEstimate;
}

function updateByteBudget() {
  const el = document.getElementById('byteBudget');
  if (!el) return;
  const left = getByteBudget();
  if (composeCodes.length === 0) { el.textContent = ''; return; }
  el.textContent = '~' + left + ' bytes available for more codes + freetext';
  el.className = 'byte-budget' + (left < 20 ? ' warn' : '') + (left < 4 ? ' over' : '');
}

function composeGoStep(step) {
  composeStep = step;
  document.querySelectorAll('.compose-step').forEach(el => el.classList.remove('active'));
  const ids = { 1: 'stepSev', 2: 'stepCat', 3: 'stepCodes', 4: 'stepFree' };
  document.getElementById(ids[step])?.classList.add('active');

  if (step === 2) { buildSeverityGrid(); buildCategoryGrid(); }
  if (step === 3 && composeCat) buildCodeList(composeCat);
  if (step === 4) {
    // Auto-enable GPS for severity 0-1 (opt-out, per GMDSS/eCall precedent)
    if ((composeSev === 0 || composeSev === 1) && !autoGps && !gpsCoords) {
      toggleGps();
    }
    // Auto-enable timestamp for severity 0-1
    if ((composeSev === 0 || composeSev === 1) && !autoTimestamp) {
      autoTimestamp = true;
      document.getElementById('tagTime')?.classList.add('active');
    }
    updatePreview();
  }
}

function composeBack(step) { composeGoStep(step); }

function updatePreview() {
  let parts = [];
  // Pax
  const paxVal = parseInt(document.getElementById('paxInput')?.value || '0', 10);
  if (paxVal > 0) parts.push(paxVal + 'pax');
  // User freetext
  const ft = document.getElementById('freetextInput').value.trim();
  if (ft) parts.push(ft);
  // Auto suffix (GPS, timestamp, language)
  const suffix = getAutoSuffix();
  if (suffix) parts.push(suffix);
  const fullFreetext = parts.join(' ');
  const allCodes = composeCodes.length ? composeCodes : [];
  const enc = encodeMessage(composeSev ?? 0, allCodes, fullFreetext || undefined);
  document.getElementById('previewBox').textContent = enc.message;
  const bc = document.getElementById('byteCount');
  const remaining = 200 - enc.byteLength;
  bc.textContent = enc.byteLength + ' / 200 bytes (' + remaining + ' ' + L('bytes_remaining') + ')';
  bc.className = 'byte-count' + (enc.overLimit ? ' over' : '');
}

document.getElementById('freetextInput')?.addEventListener('input', updatePreview);

// ====== Auto-tag state ======
let autoGps = false;
let autoTimestamp = false;
let autoLang = true; // on by default
let gpsCoords = null;
let gpsWatchId = null;

function toggleGps() {
  autoGps = !autoGps;
  const btn = document.getElementById('tagGps');
  const status = document.getElementById('gpsStatus');
  if (autoGps) {
    btn.classList.add('acquiring');
    status.classList.remove('hidden');
    status.textContent = L('gps_acquiring');
    if (navigator.geolocation) {
      gpsWatchId = navigator.geolocation.watchPosition(
        (pos) => {
          gpsCoords = {
            lat: parseFloat(pos.coords.latitude.toFixed(4)),
            lon: parseFloat(pos.coords.longitude.toFixed(4))
          };
          btn.classList.remove('acquiring');
          btn.classList.add('active');
          status.textContent = gpsCoords.lat + ',' + gpsCoords.lon;
          updatePreview();
        },
        (err) => {
          btn.classList.remove('acquiring');
          status.textContent = 'GPS unavailable';
          autoGps = false;
          gpsCoords = null;
        },
        { enableHighAccuracy: true, timeout: 15000 }
      );
    } else {
      btn.classList.remove('acquiring');
      status.textContent = 'GPS not supported';
      autoGps = false;
    }
  } else {
    btn.classList.remove('active', 'acquiring');
    status.classList.add('hidden');
    if (gpsWatchId !== null) { navigator.geolocation.clearWatch(gpsWatchId); gpsWatchId = null; }
    gpsCoords = null;
    updatePreview();
  }
}

function toggleTimestamp() {
  autoTimestamp = !autoTimestamp;
  document.getElementById('tagTime').classList.toggle('active', autoTimestamp);
  updatePreview();
}

function toggleLang() {
  autoLang = !autoLang;
  document.getElementById('tagLang').classList.toggle('active', autoLang);
  updatePreview();
}

function getAutoSuffix() {
  let parts = [];
  if (autoGps && gpsCoords) parts.push(gpsCoords.lat + ',' + gpsCoords.lon);
  if (autoTimestamp) {
    const now = new Date();
    const hh = String(now.getUTCHours()).padStart(2, '0');
    const mm = String(now.getUTCMinutes()).padStart(2, '0');
    parts.push('@' + hh + mm);
  }
  if (autoLang) parts.push('@' + currentLang);
  return parts.join(' ');
}

function copyMessage() {
  const msg = document.getElementById('previewBox').textContent;
  navigator.clipboard.writeText(msg).then(() => {
    showToast(L('message_copied'));
    saveToHistory(msg, 'sent');
    composeReset();
  }).catch(() => {
    // Fallback
    const ta = document.createElement('textarea');
    ta.value = msg; document.body.appendChild(ta);
    ta.select(); document.execCommand('copy');
    document.body.removeChild(ta);
    showToast(L('message_copied'));
    saveToHistory(msg, 'sent');
    composeReset();
  });
}

function composeReset() {
  composeSev = null; composeCat = null; composeCodes = [];
  composeStep = 1;
  document.getElementById('freetextInput').value = '';
  const paxEl = document.getElementById('paxInput');
  if (paxEl) paxEl.value = '';
  // Reset GPS
  if (gpsWatchId !== null) { navigator.geolocation.clearWatch(gpsWatchId); gpsWatchId = null; }
  autoGps = false; gpsCoords = null;
  document.getElementById('tagGps')?.classList.remove('active', 'acquiring');
  document.getElementById('gpsStatus')?.classList.add('hidden');
  // Reset timestamp (off by default)
  autoTimestamp = false;
  document.getElementById('tagTime')?.classList.remove('active');
  // Language stays on by default
  autoLang = true;
  document.getElementById('tagLang')?.classList.add('active');
  updateLangLabel();
  composeGoStep(1);
}

function updateLangLabel() {
  const label = document.getElementById('tagLangLabel');
  if (label) {
    const langData = LANGUAGES[currentLang];
    label.textContent = langData ? langData.language_name_en : '@' + currentLang;
  }
}

// ====== Decode View ======
function runDecode() {
  const input = document.getElementById('decodeInput').value.trim();
  if (!input) return;
  const r = decode(input);
  saveToHistory(input, 'received');
  renderDecoded(r);
}

function renderDecoded(r) {
  const container = document.getElementById('decodeResult');
  if (!r.valid) {
    container.innerHTML = '<div class="card"><div class="decoded-warn">' +
      L('parse_failed') + '</div>' +
      '<div class="decoded-raw mt-8"><code>' + escHtml(r.raw) + '</code></div></div>';
    return;
  }

  const lang = LANGUAGES[currentLang];
  const sevColor = SEV_COLORS[r.severity] || '#64748b';
  const sevLabel = lang.severities[r.severity]?.label || SEV_LABELS_EN[r.severity] || '?';

  let html = '';

  // Drill banner
  if (r.isDrill) {
    html += '<div class="drill-banner">' + L('drill_banner') + ' ‚Äî ' + sevLabel + '</div>';
  }

  html += '<div class="decoded-msg">';

  // Severity header
  html += '<div class="decoded-sev" style="background:' + sevColor + '">' +
    '<span class="decoded-sev-num">' + r.severity + '</span>' +
    '<span>' + sevLabel + '</span></div>';

  // Body
  html += '<div class="decoded-body">';

  // Codes
  for (const code of r.codes) {
    const desc = codeDesc(code, currentLang);
    const descEn = currentLang !== 'en' ? codeDesc(code, 'en') : '';
    html += '<div class="decoded-code-row">' +
      '<span class="decoded-code-id">' + code + '</span>' +
      '<span class="decoded-code-text">' + escHtml(desc || L('unknown_code')) +
      (descEn && desc !== descEn ? ' <span style="color:var(--text-dim);font-size:.8rem">(' + escHtml(descEn) + ')</span>' : '') +
      '</span></div>';
  }

  // Extracted data
  const ext = r.extracted;
  const hasExtracted = ext.count || ext.gps || ext.eta !== null || ext.reference || ext.language || ext.timestamp || ext.callsign;
  if (hasExtracted) {
    html += '<hr class="decoded-divider">';
    if (ext.count) html += '<div class="decoded-extracted"><strong>' + ext.count + '</strong> people</div>';
    if (ext.gps) {
      html += '<div class="decoded-extracted"><strong>' + ext.gps.lat + ', ' + ext.gps.lon + '</strong> ' +
        '<a href="https://www.openstreetmap.org/?mlat=' + ext.gps.lat + '&mlon=' + ext.gps.lon +
        '#map=15/' + ext.gps.lat + '/' + ext.gps.lon + '" target="_blank" rel="noopener" ' +
        'style="color:var(--accent);font-size:.8rem;text-decoration:none">Open map</a></div>';
    }
    if (ext.eta !== null) html += '<div class="decoded-extracted">ETA: <strong>' + ext.eta + '</strong> min</div>';
    if (ext.reference) html += '<div class="decoded-extracted">Ref: <strong>#' + escHtml(ext.reference) + '</strong></div>';
    if (ext.language) {
      const langData = LANGUAGES[ext.language];
      const langName = langData ? langData.language_name + ' (' + langData.language_name_en + ')' : ext.language;
      html += '<div class="decoded-extracted">Language: <strong>' + escHtml(langName) + '</strong></div>';
    }
    if (ext.timestamp) html += '<div class="decoded-extracted">Time: <strong>@' + escHtml(ext.timestamp) + ' UTC</strong></div>';
    if (ext.callsign) html += '<div class="decoded-extracted">Callsign: <strong>~' + escHtml(ext.callsign) + '</strong></div>';
  }

  // Freetext
  if (r.freetext) {
    // Remove known patterns to show remaining freetext
    let remaining = r.freetext
      .replace(/\d+pax/g, '').replace(/-?\d+\.\d+,-?\d+\.\d+/g, '')
      .replace(/#[A-Za-z0-9]{1,4}/g, '').replace(/@[a-z]{2}(?:\s|$)/g, ' ')
      .replace(/@\d{4}(?:\s|$)/g, ' ').replace(/~[A-Za-z0-9]{1,9}(?:\s|$)/g, ' ')
      .trim();
    if (remaining) {
      html += '<hr class="decoded-divider">';
      html += '<div class="decoded-freetext">' + escHtml(remaining) +
        '<div class="decoded-freetext-warn">' + L('untranslated_warning') + '</div></div>';
    }
  }

  // Warnings
  if (r.warnings.length) {
    html += '<div class="decoded-warn mt-8">' + r.warnings.map(w => escHtml(w)).join('<br>') + '</div>';
  }

  // Raw
  html += '<div class="decoded-raw mt-8"><code>' + escHtml(r.raw) + '</code>' +
    '<button class="copy-btn" data-copy-raw>' + L('copy') + '</button></div>';

  html += '</div></div>';

  container.innerHTML = html;

  // Bind copy button safely (avoids inline onclick injection)
  const copyBtn = container.querySelector('[data-copy-raw]');
  if (copyBtn) {
    copyBtn.addEventListener('click', () => copyText(r.raw));
  }
}

// ====== Reference Card ======
function renderRefCard() {
  const body = document.getElementById('refCardBody');
  const lang1 = LANGUAGES[currentLang];
  const lang2 = LANGUAGES[secondLang];
  document.getElementById('refLangLabel').textContent =
    lang1.language_name_en + ' + ' + lang2.language_name_en;

  let html = '';

  // Severities
  html += '<div class="ref-cat-header">Severity Levels</div>';
  for (let s = 0; s <= 3; s++) {
    html += '<div class="ref-code-row">' +
      '<span class="ref-code-id" style="color:' + SEV_COLORS[s] + '">' + s + '</span>' +
      '<span class="ref-code-en">' + escHtml(lang1.severities[s]?.label || '') + '</span>' +
      '<span class="ref-code-local">' + escHtml(lang2.severities[s]?.label || '') + '</span>' +
      '</div>';
  }

  // Codes by category
  for (const cat of CAT_ORDER) {
    const catName1 = lang1.categories[cat]?.name || cat;
    const catName2 = lang2.categories[cat]?.name || '';
    html += '<div class="ref-cat-header">' + (CAT_ICONS[cat] || '') + ' ' +
      escHtml(catName1) + ' / ' + escHtml(catName2) + '</div>';

    const codes = Object.keys(lang1.codes).filter(c => c.charAt(0) === cat).sort();
    for (const code of codes) {
      html += '<div class="ref-code-row">' +
        '<span class="ref-code-id">' + code + '</span>' +
        '<span class="ref-code-en">' + escHtml(lang1.codes[code] || '') + '</span>' +
        '<span class="ref-code-local">' + escHtml(lang2.codes[code] || '') + '</span>' +
        '</div>';
    }
  }

  // Freetext conventions
  html += '<div class="ref-cat-header">Freetext Conventions</div>';
  const conventions = [
    ['Npax', 'Person count', '2pax, 12pax'],
    ['lat,lon', 'GPS coordinates', '48.6520,20.1305'],
    ['#tag', 'Incident reference', '#A1, #B2'],
    ['@xx', 'Language hint (ISO 639-1)', '@sk, @en'],
    ['@HHMM', 'Timestamp (UTC)', '@1430'],
    ['~CALL', 'Sender callsign', '~OM3ABC'],
  ];
  for (const [pat, desc, example] of conventions) {
    html += '<div class="ref-code-row">' +
      '<span class="ref-code-id" style="min-width:60px">' + pat + '</span>' +
      '<span class="ref-code-en">' + desc + '</span>' +
      '<span class="ref-code-local" style="color:var(--text-dim)">' + example + '</span>' +
      '</div>';
  }

  body.innerHTML = html;
}

// ====== History ======
function getHistory() {
  try { return JSON.parse(localStorage.getItem('mecp_history') || '[]'); }
  catch { return []; }
}

function saveToHistory(raw, direction) {
  const history = getHistory();
  history.unshift({ raw, direction, time: Date.now() });
  if (history.length > 100) history.length = 100;
  localStorage.setItem('mecp_history', JSON.stringify(history));
  renderHistory();
}

function renderHistory() {
  const list = document.getElementById('historyList');
  const history = getHistory();
  if (!history.length) {
    list.innerHTML = '<div class="history-empty">No messages yet</div>';
    return;
  }
  list.innerHTML = '';
  for (const item of history) {
    const date = new Date(item.time);
    const ts = date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
    const arrow = item.direction === 'sent' ? '\u2191' : '\u2193';
    const div = document.createElement('div');
    div.className = 'history-item';
    div.innerHTML = '<div class="history-time">' + arrow + ' ' + escHtml(ts) + '</div>' +
      '<div class="history-raw">' + escHtml(item.raw) + '</div>';
    div.addEventListener('click', () => loadFromHistory(item.raw));
    list.appendChild(div);
  }
}

function loadFromHistory(raw) {
  // Switch view without clearing (bypass normal switchView clear)
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewDecode')?.classList.add('active');
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelector('[data-view="viewDecode"]')?.classList.add('active');
  document.getElementById('decodeInput').value = raw;
  runDecode();
}

function clearHistory() {
  if (!confirm('Clear all message history?')) return;
  localStorage.removeItem('mecp_history');
  renderHistory();
  showToast('History cleared');
}

function exportHistory() {
  const history = getHistory();
  if (!history.length) { showToast('No history to export'); return; }
  let text = 'MECP Message History\nExported: ' + new Date().toISOString() + '\n\n';
  for (const item of history) {
    const date = new Date(item.time);
    text += '[' + date.toISOString() + '] ' + (item.direction === 'sent' ? 'SENT' : 'RECV') +
      ': ' + item.raw + '\n';
  }
  const blob = new Blob([text], { type: 'text/plain' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'mecp-history-' + new Date().toISOString().slice(0,10) + '.txt';
  a.click();
  URL.revokeObjectURL(a.href);
}

// ====== View switching ======
function switchView(viewId, btn) {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById(viewId)?.classList.add('active');
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  if (btn) btn.classList.add('active');
  if (viewId === 'viewRef') renderRefCard();
  if (viewId === 'viewDecode') {
    document.getElementById('decodeInput').value = '';
    document.getElementById('decodeResult').innerHTML = '';
  }
}

// ====== Utilities ======
function escHtml(str) {
  return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}
function copyText(text) {
  navigator.clipboard.writeText(text).then(() => showToast(L('message_copied')));
}

function showToast(msg) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2000);
}

// PWA service worker registration
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js').catch(() => {});
}
</script>
</body>
</html>
